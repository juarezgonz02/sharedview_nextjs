(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{52060:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"}},77149:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92a95.8 95.8 0 01-52-15l-54 55c29.1 22.4 65.9 36 106 36 93.8 0 170-75.1 170-168z"}},{tag:"path",attrs:{d:"M833 446h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254-63 0-120.7-23-165-61l-54 54a334.01 334.01 0 00179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328 0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9a8 8 0 00-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68A252.33 252.33 0 01258 454c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8 0 53 12.5 103 34.6 147.4l-137 137a8.03 8.03 0 000 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92 46 0 84.1 32.3 92.3 74.7L417 401z"}}]},name:"audio-muted",theme:"outlined"}},73892:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"}}]},name:"audio",theme:"outlined"}},97005:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"}},84536:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"}},70493:function(t,r,n){"use strict";var o;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;let a=(o=n(60077))&&o.__esModule?o:{default:o};r.default=a,t.exports=a},66111:function(t,r,n){"use strict";Object.defineProperty(r,"Z",{enumerable:!0,get:function(){return l}});var o=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=_getRequireWildcardCache(r);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=a?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}return o.default=t,n&&n.set(t,o),o}(n(2265)),a=_interop_require_default(n(52060)),c=_interop_require_default(n(51718));function _interop_require_default(t){return t&&t.__esModule?t:{default:t}}function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(t){return t?n:r})(t)}var l=o.forwardRef(function(t,r){var n,l;return o.createElement(c.default,(n=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(r){var o;o=n[r],r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o})}return t}({},t),l=l={ref:r,icon:a.default},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n})(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))}),n))})},84615:function(t,r,n){"use strict";Object.defineProperty(r,"Z",{enumerable:!0,get:function(){return l}});var o=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=_getRequireWildcardCache(r);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=a?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}return o.default=t,n&&n.set(t,o),o}(n(2265)),a=_interop_require_default(n(77149)),c=_interop_require_default(n(51718));function _interop_require_default(t){return t&&t.__esModule?t:{default:t}}function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(t){return t?n:r})(t)}var l=o.forwardRef(function(t,r){var n,l;return o.createElement(c.default,(n=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(r){var o;o=n[r],r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o})}return t}({},t),l=l={ref:r,icon:a.default},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n})(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))}),n))})},87502:function(t,r,n){"use strict";Object.defineProperty(r,"Z",{enumerable:!0,get:function(){return l}});var o=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=_getRequireWildcardCache(r);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=a?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}return o.default=t,n&&n.set(t,o),o}(n(2265)),a=_interop_require_default(n(73892)),c=_interop_require_default(n(51718));function _interop_require_default(t){return t&&t.__esModule?t:{default:t}}function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(t){return t?n:r})(t)}var l=o.forwardRef(function(t,r){var n,l;return o.createElement(c.default,(n=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(r){var o;o=n[r],r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o})}return t}({},t),l=l={ref:r,icon:a.default},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n})(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))}),n))})},60077:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});var o=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=_getRequireWildcardCache(r);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=a?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}return o.default=t,n&&n.set(t,o),o}(n(2265)),a=_interop_require_default(n(97005)),c=_interop_require_default(n(51718));function _interop_require_default(t){return t&&t.__esModule?t:{default:t}}function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(t){return t?n:r})(t)}var l=o.forwardRef(function(t,r){var n,l;return o.createElement(c.default,(n=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(r){var o;o=n[r],r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o})}return t}({},t),l=l={ref:r,icon:a.default},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n})(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))}),n))})},71736:function(t,r,n){"use strict";Object.defineProperty(r,"Z",{enumerable:!0,get:function(){return l}});var o=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=_getRequireWildcardCache(r);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var l=a?Object.getOwnPropertyDescriptor(t,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=t[c]}return o.default=t,n&&n.set(t,o),o}(n(2265)),a=_interop_require_default(n(84536)),c=_interop_require_default(n(51718));function _interop_require_default(t){return t&&t.__esModule?t:{default:t}}function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(t){return t?n:r})(t)}var l=o.forwardRef(function(t,r){var n,l;return o.createElement(c.default,(n=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(r){var o;o=n[r],r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o})}return t}({},t),l=l={ref:r,icon:a.default},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n})(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))}),n))})},58003:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){if("string"!=typeof t)return t;let r=t.charAt(0).toUpperCase()+t.slice(1);return r}},22522:function(t,r,n){"use strict";var o=n(26314).default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.default.createElement(a.default,null),l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d="boolean"==typeof t?t:void 0===r?!!l:!1!==r&&null!==r;if(!d)return[!1,null];let f="boolean"==typeof r||null==r?o:r;return[!0,n?n(f):f]};var a=o(n(70493)),c=o(n(2265))},60658:function(t,r,n){"use strict";var o=n(26314).default,a=n(36199).default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=a(n(2265)),l=o(n(54440)),d=n(9273),f=o(n(57787)),__rest=function(t,r){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&0>r.indexOf(o)&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)0>r.indexOf(o[a])&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n};let m=c.forwardRef((t,r)=>{let{prefixCls:n,style:o,className:a,checked:m,onChange:y,onClick:g}=t,b=__rest(t,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:_,tag:w}=c.useContext(d.ConfigContext),S=_("tag",n),[T,E]=(0,f.default)(S),P=(0,l.default)(S,`${S}-checkable`,{[`${S}-checkable-checked`]:m},null==w?void 0:w.className,a,E);return T(c.createElement("span",Object.assign({},b,{ref:r,style:Object.assign(Object.assign({},o),null==w?void 0:w.style),className:P,onClick:t=>{null==y||y(!m),null==g||g(t)}})))});r.default=m},88500:function(t,r,n){"use strict";var o=n(26314).default,a=n(36199).default;r.Z=void 0;var c=a(n(2265)),l=o(n(70493)),d=o(n(54440)),f=n(98167),m=o(n(22522));n(15218);var y=o(n(72105)),g=n(9273),b=o(n(60658)),_=o(n(57787)),w=o(n(85387)),S=o(n(6417)),__rest=function(t,r){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&0>r.indexOf(o)&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)0>r.indexOf(o[a])&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n};let T=c.forwardRef((t,r)=>{let{prefixCls:n,className:o,rootClassName:a,style:b,children:T,icon:E,color:P,onClose:O,closeIcon:R,closable:x,bordered:B=!0}=t,A=__rest(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:j,direction:I,tag:M}=c.useContext(g.ConfigContext),[$,D]=c.useState(!0);c.useEffect(()=>{"visible"in A&&D(A.visible)},[A.visible]);let U=(0,f.isPresetColor)(P),N=(0,f.isPresetStatusColor)(P),F=U||N,z=Object.assign(Object.assign({backgroundColor:P&&!F?P:void 0},null==M?void 0:M.style),b),V=j("tag",n),[q,W]=(0,_.default)(V),H=(0,d.default)(V,null==M?void 0:M.className,{[`${V}-${P}`]:F,[`${V}-has-color`]:P&&!F,[`${V}-hidden`]:!$,[`${V}-rtl`]:"rtl"===I,[`${V}-borderless`]:!B},o,a,W),handleCloseClick=t=>{t.stopPropagation(),null==O||O(t),t.defaultPrevented||D(!1)},[,J]=(0,m.default)(x,R,t=>null===t?c.createElement(l.default,{className:`${V}-close-icon`,onClick:handleCloseClick}):c.createElement("span",{className:`${V}-close-icon`,onClick:handleCloseClick},t),null,!1),K="function"==typeof A.onClick||T&&"a"===T.type,G=E||null,Y=G?c.createElement(c.Fragment,null,G,T&&c.createElement("span",null,T)):T,X=c.createElement("span",Object.assign({},A,{ref:r,className:H,style:z}),Y,J,U&&c.createElement(w.default,{key:"preset",prefixCls:V}),N&&c.createElement(S.default,{key:"status",prefixCls:V}));return q(K?c.createElement(y.default,{component:"Tag"},X):X)});T.CheckableTag=b.default,r.Z=T},57787:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prepareToken=r.prepareCommonToken=r.default=void 0;var o=n(5101),a=n(18710);let genBaseStyle=t=>{let{paddingXXS:r,lineWidth:n,tagPaddingHorizontal:a,componentCls:c}=t,l=a-n;return{[c]:Object.assign(Object.assign({},(0,o.resetComponent)(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:l,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${c}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${c}-close-icon`]:{marginInlineStart:r-n,color:t.colorTextDescription,fontSize:t.tagIconSize,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${c}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${c}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:l}}),[`${c}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}},prepareToken=t=>{let{lineWidth:r,fontSizeIcon:n}=t,o=t.fontSizeSM,c=`${t.lineHeightSM*o}px`,l=(0,a.mergeToken)(t,{tagFontSize:o,tagLineHeight:c,tagIconSize:n-2*r,tagPaddingHorizontal:8,tagBorderlessBg:t.colorFillTertiary});return l};r.prepareToken=prepareToken;let prepareCommonToken=t=>({defaultBg:t.colorFillQuaternary,defaultColor:t.colorText});r.prepareCommonToken=prepareCommonToken,r.default=(0,a.genComponentStyleHook)("Tag",t=>{let r=prepareToken(t);return genBaseStyle(r)},prepareCommonToken)},85387:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(57787),a=n(18710);let genPresetStyle=t=>(0,a.genPresetColor)(t,(r,n)=>{let{textColor:o,lightBorderColor:a,lightColor:c,darkColor:l}=n;return{[`${t.componentCls}-${r}`]:{color:o,background:c,borderColor:a,"&-inverse":{color:t.colorTextLightSolid,background:l,borderColor:l},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}});r.default=(0,a.genSubStyleComponent)(["Tag","preset"],t=>{let r=(0,o.prepareToken)(t);return genPresetStyle(r)},o.prepareCommonToken)},6417:function(t,r,n){"use strict";var o=n(26314).default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(57787),c=o(n(58003)),l=n(18710);let genTagStatusStyle=(t,r,n)=>{let o=(0,c.default)(n);return{[`${t.componentCls}-${r}`]:{color:t[`color${n}`],background:t[`color${o}Bg`],borderColor:t[`color${o}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}};r.default=(0,l.genSubStyleComponent)(["Tag","status"],t=>{let r=(0,a.prepareToken)(t);return[genTagStatusStyle(r,"success","Success"),genTagStatusStyle(r,"processing","Info"),genTagStatusStyle(r,"error","Error"),genTagStatusStyle(r,"warning","Warning")]},a.prepareCommonToken)},34699:function(t,r){"use strict";r.byteLength=function(t){var r=getLens(t),n=r[0],o=r[1];return(n+o)*3/4-o},r.toByteArray=function(t){var r,n,c=getLens(t),l=c[0],d=c[1],f=new a((l+d)*3/4-d),m=0,y=d>0?l-4:l;for(n=0;n<y;n+=4)r=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],f[m++]=r>>16&255,f[m++]=r>>8&255,f[m++]=255&r;return 2===d&&(r=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,f[m++]=255&r),1===d&&(r=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,f[m++]=r>>8&255,f[m++]=255&r),f},r.fromByteArray=function(t){for(var r,o=t.length,a=o%3,c=[],l=0,d=o-a;l<d;l+=16383)c.push(function(t,r,o){for(var a,c=[],l=r;l<o;l+=3)c.push(n[(a=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(255&t[l+2]))>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return c.join("")}(t,l,l+16383>d?d:l+16383));return 1===a?c.push(n[(r=t[o-1])>>2]+n[r<<4&63]+"=="):2===a&&c.push(n[(r=(t[o-2]<<8)+t[o-1])>>10]+n[r>>4&63]+n[r<<2&63]+"="),c.join("")};for(var n=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=c.length;l<d;++l)n[l]=c[l],o[c.charCodeAt(l)]=l;function getLens(t){var r=t.length;if(r%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=r);var o=n===r?0:4-n%4;return[n,o]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},67133:function(t,r,n){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var o=n(34699),a=n(19087),c="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function createBuffer(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');var r=new Uint8Array(t);return Object.setPrototypeOf(r,Buffer.prototype),r}function Buffer(t,r,n){if("number"==typeof t){if("string"==typeof r)throw TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(t)}return from(t,r,n)}function from(t,r,n){if("string"==typeof t)return function(t,r){if(("string"!=typeof r||""===r)&&(r="utf8"),!Buffer.isEncoding(r))throw TypeError("Unknown encoding: "+r);var n=0|byteLength(t,r),o=createBuffer(n),a=o.write(t,r);return a!==n&&(o=o.slice(0,a)),o}(t,r);if(ArrayBuffer.isView(t))return function(t){if(isInstance(t,Uint8Array)){var r=new Uint8Array(t);return fromArrayBuffer(r.buffer,r.byteOffset,r.byteLength)}return fromArrayLike(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(isInstance(t,ArrayBuffer)||t&&isInstance(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(isInstance(t,SharedArrayBuffer)||t&&isInstance(t.buffer,SharedArrayBuffer)))return fromArrayBuffer(t,r,n);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');var o=t.valueOf&&t.valueOf();if(null!=o&&o!==t)return Buffer.from(o,r,n);var a=function(t){if(Buffer.isBuffer(t)){var r,n=0|checked(t.length),o=createBuffer(n);return 0===o.length||t.copy(o,0,0,n),o}return void 0!==t.length?"number"!=typeof t.length||(r=t.length)!=r?createBuffer(0):fromArrayLike(t):"Buffer"===t.type&&Array.isArray(t.data)?fromArrayLike(t.data):void 0}(t);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return Buffer.from(t[Symbol.toPrimitive]("string"),r,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function assertSize(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function allocUnsafe(t){return assertSize(t),createBuffer(t<0?0:0|checked(t))}function fromArrayLike(t){for(var r=t.length<0?0:0|checked(t.length),n=createBuffer(r),o=0;o<r;o+=1)n[o]=255&t[o];return n}function fromArrayBuffer(t,r,n){var o;if(r<0||t.byteLength<r)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<r+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(o=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Buffer.prototype),o}function checked(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function byteLength(t,r){if(Buffer.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||isInstance(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,o=arguments.length>2&&!0===arguments[2];if(!o&&0===n)return 0;for(var a=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(t).length;default:if(a)return o?-1:utf8ToBytes(t).length;r=(""+r).toLowerCase(),a=!0}}function slowToString(t,r,n){var a,c,l=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(r>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,r,n){var o=t.length;(!r||r<0)&&(r=0),(!n||n<0||n>o)&&(n=o);for(var a="",c=r;c<n;++c)a+=d[t[c]];return a}(this,r,n);case"utf8":case"utf-8":return utf8Slice(this,r,n);case"ascii":return function(t,r,n){var o="";n=Math.min(t.length,n);for(var a=r;a<n;++a)o+=String.fromCharCode(127&t[a]);return o}(this,r,n);case"latin1":case"binary":return function(t,r,n){var o="";n=Math.min(t.length,n);for(var a=r;a<n;++a)o+=String.fromCharCode(t[a]);return o}(this,r,n);case"base64":return a=r,c=n,0===a&&c===this.length?o.fromByteArray(this):o.fromByteArray(this.slice(a,c));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,r,n){for(var o=t.slice(r,n),a="",c=0;c<o.length-1;c+=2)a+=String.fromCharCode(o[c]+256*o[c+1]);return a}(this,r,n);default:if(l)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),l=!0}}function swap(t,r,n){var o=t[r];t[r]=t[n],t[n]=o}function bidirectionalIndexOf(t,r,n,o,a){var c;if(0===t.length)return -1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(c=n=+n)!=c&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return -1;n=t.length-1}else if(n<0){if(!a)return -1;n=0}if("string"==typeof r&&(r=Buffer.from(r,o)),Buffer.isBuffer(r))return 0===r.length?-1:arrayIndexOf(t,r,n,o,a);if("number"==typeof r)return(r&=255,"function"==typeof Uint8Array.prototype.indexOf)?a?Uint8Array.prototype.indexOf.call(t,r,n):Uint8Array.prototype.lastIndexOf.call(t,r,n):arrayIndexOf(t,[r],n,o,a);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,r,n,o,a){var c,l=1,d=t.length,f=r.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||r.length<2)return -1;l=2,d/=2,f/=2,n/=2}function read(t,r){return 1===l?t[r]:t.readUInt16BE(r*l)}if(a){var m=-1;for(c=n;c<d;c++)if(read(t,c)===read(r,-1===m?0:c-m)){if(-1===m&&(m=c),c-m+1===f)return m*l}else -1!==m&&(c-=c-m),m=-1}else for(n+f>d&&(n=d-f),c=n;c>=0;c--){for(var y=!0,g=0;g<f;g++)if(read(t,c+g)!==read(r,g)){y=!1;break}if(y)return c}return -1}function utf8Slice(t,r,n){n=Math.min(t.length,n);for(var o=[],a=r;a<n;){var c,l,d,f,m=t[a],y=null,g=m>239?4:m>223?3:m>191?2:1;if(a+g<=n)switch(g){case 1:m<128&&(y=m);break;case 2:(192&(c=t[a+1]))==128&&(f=(31&m)<<6|63&c)>127&&(y=f);break;case 3:c=t[a+1],l=t[a+2],(192&c)==128&&(192&l)==128&&(f=(15&m)<<12|(63&c)<<6|63&l)>2047&&(f<55296||f>57343)&&(y=f);break;case 4:c=t[a+1],l=t[a+2],d=t[a+3],(192&c)==128&&(192&l)==128&&(192&d)==128&&(f=(15&m)<<18|(63&c)<<12|(63&l)<<6|63&d)>65535&&f<1114112&&(y=f)}null===y?(y=65533,g=1):y>65535&&(y-=65536,o.push(y>>>10&1023|55296),y=56320|1023&y),o.push(y),a+=g}return function(t){var r=t.length;if(r<=4096)return String.fromCharCode.apply(String,t);for(var n="",o=0;o<r;)n+=String.fromCharCode.apply(String,t.slice(o,o+=4096));return n}(o)}function checkOffset(t,r,n){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+r>n)throw RangeError("Trying to access beyond buffer length")}function checkInt(t,r,n,o,a,c){if(!Buffer.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(r>a||r<c)throw RangeError('"value" argument is out of bounds');if(n+o>t.length)throw RangeError("Index out of range")}function checkIEEE754(t,r,n,o,a,c){if(n+o>t.length||n<0)throw RangeError("Index out of range")}function writeFloat(t,r,n,o,c){return r=+r,n>>>=0,c||checkIEEE754(t,r,n,4,34028234663852886e22,-34028234663852886e22),a.write(t,r,n,o,23,4),n+4}function writeDouble(t,r,n,o,c){return r=+r,n>>>=0,c||checkIEEE754(t,r,n,8,17976931348623157e292,-17976931348623157e292),a.write(t,r,n,o,52,8),n+8}r.lW=Buffer,r.h2=50,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(t,r),42===t.foo()}catch(t){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(t,r,n){return from(t,r,n)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(t,r,n){return(assertSize(t),t<=0)?createBuffer(t):void 0!==r?"string"==typeof n?createBuffer(t).fill(r,n):createBuffer(t).fill(r):createBuffer(t)},Buffer.allocUnsafe=function(t){return allocUnsafe(t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(t)},Buffer.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==Buffer.prototype},Buffer.compare=function(t,r){if(isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),isInstance(r,Uint8Array)&&(r=Buffer.from(r,r.offset,r.byteLength)),!Buffer.isBuffer(t)||!Buffer.isBuffer(r))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var n=t.length,o=r.length,a=0,c=Math.min(n,o);a<c;++a)if(t[a]!==r[a]){n=t[a],o=r[a];break}return n<o?-1:o<n?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,r){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);if(void 0===r)for(n=0,r=0;n<t.length;++n)r+=t[n].length;var n,o=Buffer.allocUnsafe(r),a=0;for(n=0;n<t.length;++n){var c=t[n];if(isInstance(c,Uint8Array))a+c.length>o.length?Buffer.from(c).copy(o,a):Uint8Array.prototype.set.call(o,c,a);else if(Buffer.isBuffer(c))c.copy(o,a);else throw TypeError('"list" argument must be an Array of Buffers');a+=c.length}return o},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)swap(this,r,r+1);return this},Buffer.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)swap(this,r,r+3),swap(this,r+1,r+2);return this},Buffer.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)swap(this,r,r+7),swap(this,r+1,r+6),swap(this,r+2,r+5),swap(this,r+3,r+4);return this},Buffer.prototype.toString=function(){var t=this.length;return 0===t?"":0==arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",n=r.h2;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},c&&(Buffer.prototype[c]=Buffer.prototype.inspect),Buffer.prototype.compare=function(t,r,n,o,a){if(isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===r&&(r=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===a&&(a=this.length),r<0||n>t.length||o<0||a>this.length)throw RangeError("out of range index");if(o>=a&&r>=n)return 0;if(o>=a)return -1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,a>>>=0,this===t)return 0;for(var c=a-o,l=n-r,d=Math.min(c,l),f=this.slice(o,a),m=t.slice(r,n),y=0;y<d;++y)if(f[y]!==m[y]){c=f[y],l=m[y];break}return c<l?-1:l<c?1:0},Buffer.prototype.includes=function(t,r,n){return -1!==this.indexOf(t,r,n)},Buffer.prototype.indexOf=function(t,r,n){return bidirectionalIndexOf(this,t,r,n,!0)},Buffer.prototype.lastIndexOf=function(t,r,n){return bidirectionalIndexOf(this,t,r,n,!1)},Buffer.prototype.write=function(t,r,n,o){if(void 0===r)o="utf8",n=this.length,r=0;else if(void 0===n&&"string"==typeof r)o=r,n=this.length,r=0;else if(isFinite(r))r>>>=0,isFinite(n)?(n>>>=0,void 0===o&&(o="utf8")):(o=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a,c,l,d,f,m,y,g,b=this.length-r;if((void 0===n||n>b)&&(n=b),t.length>0&&(n<0||r<0)||r>this.length)throw RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var _=!1;;)switch(o){case"hex":return function(t,r,n,o){n=Number(n)||0;var a=t.length-n;o?(o=Number(o))>a&&(o=a):o=a;var c=r.length;o>c/2&&(o=c/2);for(var l=0;l<o;++l){var d=parseInt(r.substr(2*l,2),16);if(d!=d)break;t[n+l]=d}return l}(this,t,r,n);case"utf8":case"utf-8":return a=r,c=n,blitBuffer(utf8ToBytes(t,this.length-a),this,a,c);case"ascii":case"latin1":case"binary":return l=r,d=n,blitBuffer(function(t){for(var r=[],n=0;n<t.length;++n)r.push(255&t.charCodeAt(n));return r}(t),this,l,d);case"base64":return f=r,m=n,blitBuffer(base64ToBytes(t),this,f,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y=r,g=n,blitBuffer(function(t,r){for(var n,o,a=[],c=0;c<t.length&&!((r-=2)<0);++c)o=(n=t.charCodeAt(c))>>8,a.push(n%256),a.push(o);return a}(t,this.length-y),this,y,g);default:if(_)throw TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),_=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(t,r){var n=this.length;t=~~t,r=void 0===r?n:~~r,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),r<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t);var o=this.subarray(t,r);return Object.setPrototypeOf(o,Buffer.prototype),o},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(t,r,n){t>>>=0,r>>>=0,n||checkOffset(t,r,this.length);for(var o=this[t],a=1,c=0;++c<r&&(a*=256);)o+=this[t+c]*a;return o},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(t,r,n){t>>>=0,r>>>=0,n||checkOffset(t,r,this.length);for(var o=this[t+--r],a=1;r>0&&(a*=256);)o+=this[t+--r]*a;return o},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(t,r){return t>>>=0,r||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(t,r){return t>>>=0,r||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(t,r){return t>>>=0,r||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(t,r){return t>>>=0,r||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(t,r){return t>>>=0,r||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,r,n){t>>>=0,r>>>=0,n||checkOffset(t,r,this.length);for(var o=this[t],a=1,c=0;++c<r&&(a*=256);)o+=this[t+c]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*r)),o},Buffer.prototype.readIntBE=function(t,r,n){t>>>=0,r>>>=0,n||checkOffset(t,r,this.length);for(var o=r,a=1,c=this[t+--o];o>0&&(a*=256);)c+=this[t+--o]*a;return c>=(a*=128)&&(c-=Math.pow(2,8*r)),c},Buffer.prototype.readInt8=function(t,r){return(t>>>=0,r||checkOffset(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},Buffer.prototype.readInt16LE=function(t,r){t>>>=0,r||checkOffset(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function(t,r){t>>>=0,r||checkOffset(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function(t,r){return t>>>=0,r||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,r){return t>>>=0,r||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,r){return t>>>=0,r||checkOffset(t,4,this.length),a.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,r){return t>>>=0,r||checkOffset(t,4,this.length),a.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,r){return t>>>=0,r||checkOffset(t,8,this.length),a.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,r){return t>>>=0,r||checkOffset(t,8,this.length),a.read(this,t,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(t,r,n,o){if(t=+t,r>>>=0,n>>>=0,!o){var a=Math.pow(2,8*n)-1;checkInt(this,t,r,n,a,0)}var c=1,l=0;for(this[r]=255&t;++l<n&&(c*=256);)this[r+l]=t/c&255;return r+n},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(t,r,n,o){if(t=+t,r>>>=0,n>>>=0,!o){var a=Math.pow(2,8*n)-1;checkInt(this,t,r,n,a,0)}var c=n-1,l=1;for(this[r+c]=255&t;--c>=0&&(l*=256);)this[r+c]=t/l&255;return r+n},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,1,255,0),this[r]=255&t,r+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,2,65535,0),this[r]=255&t,this[r+1]=t>>>8,r+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=255&t,r+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t,r+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},Buffer.prototype.writeIntLE=function(t,r,n,o){if(t=+t,r>>>=0,!o){var a=Math.pow(2,8*n-1);checkInt(this,t,r,n,a-1,-a)}var c=0,l=1,d=0;for(this[r]=255&t;++c<n&&(l*=256);)t<0&&0===d&&0!==this[r+c-1]&&(d=1),this[r+c]=(t/l>>0)-d&255;return r+n},Buffer.prototype.writeIntBE=function(t,r,n,o){if(t=+t,r>>>=0,!o){var a=Math.pow(2,8*n-1);checkInt(this,t,r,n,a-1,-a)}var c=n-1,l=1,d=0;for(this[r+c]=255&t;--c>=0&&(l*=256);)t<0&&0===d&&0!==this[r+c+1]&&(d=1),this[r+c]=(t/l>>0)-d&255;return r+n},Buffer.prototype.writeInt8=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=255&t,r+1},Buffer.prototype.writeInt16LE=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,2,32767,-32768),this[r]=255&t,this[r+1]=t>>>8,r+2},Buffer.prototype.writeInt16BE=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=255&t,r+2},Buffer.prototype.writeInt32LE=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,4,2147483647,-2147483648),this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},Buffer.prototype.writeInt32BE=function(t,r,n){return t=+t,r>>>=0,n||checkInt(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},Buffer.prototype.writeFloatLE=function(t,r,n){return writeFloat(this,t,r,!0,n)},Buffer.prototype.writeFloatBE=function(t,r,n){return writeFloat(this,t,r,!1,n)},Buffer.prototype.writeDoubleLE=function(t,r,n){return writeDouble(this,t,r,!0,n)},Buffer.prototype.writeDoubleBE=function(t,r,n){return writeDouble(this,t,r,!1,n)},Buffer.prototype.copy=function(t,r,n,o){if(!Buffer.isBuffer(t))throw TypeError("argument should be a Buffer");if(n||(n=0),o||0===o||(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<n&&(o=n),o===n||0===t.length||0===this.length)return 0;if(r<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(o<0)throw RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-n&&(o=t.length-r+n);var a=o-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(r,n,o):Uint8Array.prototype.set.call(t,this.subarray(n,o),r),a},Buffer.prototype.fill=function(t,r,n,o){if("string"==typeof t){if("string"==typeof r?(o=r,r=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),void 0!==o&&"string"!=typeof o)throw TypeError("encoding must be a string");if("string"==typeof o&&!Buffer.isEncoding(o))throw TypeError("Unknown encoding: "+o);if(1===t.length){var a,c=t.charCodeAt(0);("utf8"===o&&c<128||"latin1"===o)&&(t=c)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw RangeError("Out of range index");if(n<=r)return this;if(r>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=r;a<n;++a)this[a]=t;else{var l=Buffer.isBuffer(t)?t:Buffer.from(t,o),d=l.length;if(0===d)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<n-r;++a)this[a+r]=l[a%d]}return this};var l=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(t,r){r=r||1/0;for(var n,o=t.length,a=null,c=[],l=0;l<o;++l){if((n=t.charCodeAt(l))>55295&&n<57344){if(!a){if(n>56319||l+1===o){(r-=3)>-1&&c.push(239,191,189);continue}a=n;continue}if(n<56320){(r-=3)>-1&&c.push(239,191,189),a=n;continue}n=(a-55296<<10|n-56320)+65536}else a&&(r-=3)>-1&&c.push(239,191,189);if(a=null,n<128){if((r-=1)<0)break;c.push(n)}else if(n<2048){if((r-=2)<0)break;c.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;c.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((r-=4)<0)break;c.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return c}function base64ToBytes(t){return o.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(l,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function blitBuffer(t,r,n,o){for(var a=0;a<o&&!(a+n>=r.length)&&!(a>=t.length);++a)r[a+n]=t[a];return a}function isInstance(t,r){return t instanceof r||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===r.name}var d=function(){for(var t="0123456789abcdef",r=Array(256),n=0;n<16;++n)for(var o=16*n,a=0;a<16;++a)r[o+a]=t[n]+t[a];return r}()},19087:function(t,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(t,r,n,o,a){var c,l,d=8*a-o-1,f=(1<<d)-1,m=f>>1,y=-7,g=n?a-1:0,b=n?-1:1,_=t[r+g];for(g+=b,c=_&(1<<-y)-1,_>>=-y,y+=d;y>0;c=256*c+t[r+g],g+=b,y-=8);for(l=c&(1<<-y)-1,c>>=-y,y+=o;y>0;l=256*l+t[r+g],g+=b,y-=8);if(0===c)c=1-m;else{if(c===f)return l?NaN:(_?-1:1)*(1/0);l+=Math.pow(2,o),c-=m}return(_?-1:1)*l*Math.pow(2,c-o)},r.write=function(t,r,n,o,a,c){var l,d,f,m=8*c-a-1,y=(1<<m)-1,g=y>>1,b=23===a?5960464477539062e-23:0,_=o?0:c-1,w=o?1:-1,S=r<0||0===r&&1/r<0?1:0;for(isNaN(r=Math.abs(r))||r===1/0?(d=isNaN(r)?1:0,l=y):(l=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+g>=1?r+=b/f:r+=b*Math.pow(2,1-g),r*f>=2&&(l++,f/=2),l+g>=y?(d=0,l=y):l+g>=1?(d=(r*f-1)*Math.pow(2,a),l+=g):(d=r*Math.pow(2,g-1)*Math.pow(2,a),l=0));a>=8;t[n+_]=255&d,_+=w,d/=256,a-=8);for(l=l<<a|d,m+=a;m>0;t[n+_]=255&l,_+=w,l/=256,m-=8);t[n+_-w]|=128*S}},24033:function(t,r,n){t.exports=n(20290)},42341:function(t){"use strict";let r={};r.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},r.localCName=r.generateIdentifier(),r.splitLines=function(t){return t.trim().split("\n").map(t=>t.trim())},r.splitSections=function(t){let r=t.split("\nm=");return r.map((t,r)=>(r>0?"m="+t:t).trim()+"\r\n")},r.getDescription=function(t){let n=r.splitSections(t);return n&&n[0]},r.getMediaSections=function(t){let n=r.splitSections(t);return n.shift(),n},r.matchPrefix=function(t,n){return r.splitLines(t).filter(t=>0===t.indexOf(n))},r.parseCandidate=function(t){let r;r=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");let n={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let t=8;t<r.length;t+=2)switch(r[t]){case"raddr":n.relatedAddress=r[t+1];break;case"rport":n.relatedPort=parseInt(r[t+1],10);break;case"tcptype":n.tcpType=r[t+1];break;case"ufrag":n.ufrag=r[t+1],n.usernameFragment=r[t+1];break;default:void 0===n[r[t]]&&(n[r[t]]=r[t+1])}return n},r.writeCandidate=function(t){let r=[];r.push(t.foundation);let n=t.component;"rtp"===n?r.push(1):"rtcp"===n?r.push(2):r.push(n),r.push(t.protocol.toUpperCase()),r.push(t.priority),r.push(t.address||t.ip),r.push(t.port);let o=t.type;return r.push("typ"),r.push(o),"host"!==o&&t.relatedAddress&&t.relatedPort&&(r.push("raddr"),r.push(t.relatedAddress),r.push("rport"),r.push(t.relatedPort)),t.tcpType&&"tcp"===t.protocol.toLowerCase()&&(r.push("tcptype"),r.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(r.push("ufrag"),r.push(t.usernameFragment||t.ufrag)),"candidate:"+r.join(" ")},r.parseIceOptions=function(t){return t.substring(14).split(" ")},r.parseRtpMap=function(t){let r=t.substring(9).split(" "),n={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),n.name=r[0],n.clockRate=parseInt(r[1],10),n.channels=3===r.length?parseInt(r[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(t){let r=t.payloadType;void 0!==t.preferredPayloadType&&(r=t.preferredPayloadType);let n=t.channels||t.numChannels||1;return"a=rtpmap:"+r+" "+t.name+"/"+t.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(t){let r=t.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},r.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+"\r\n"},r.parseFmtp=function(t){let r;let n={},o=t.substring(t.indexOf(" ")+1).split(";");for(let t=0;t<o.length;t++)n[(r=o[t].trim().split("="))[0].trim()]=r[1];return n},r.writeFmtp=function(t){let r="",n=t.payloadType;if(void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){let o=[];Object.keys(t.parameters).forEach(r=>{void 0!==t.parameters[r]?o.push(r+"="+t.parameters[r]):o.push(r)}),r+="a=fmtp:"+n+" "+o.join(";")+"\r\n"}return r},r.parseRtcpFb=function(t){let r=t.substring(t.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},r.writeRtcpFb=function(t){let r="",n=t.payloadType;return void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(t=>{r+="a=rtcp-fb:"+n+" "+t.type+(t.parameter&&t.parameter.length?" "+t.parameter:"")+"\r\n"}),r},r.parseSsrcMedia=function(t){let r=t.indexOf(" "),n={ssrc:parseInt(t.substring(7,r),10)},o=t.indexOf(":",r);return o>-1?(n.attribute=t.substring(r+1,o),n.value=t.substring(o+1)):n.attribute=t.substring(r+1),n},r.parseSsrcGroup=function(t){let r=t.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(t=>parseInt(t,10))}},r.getMid=function(t){let n=r.matchPrefix(t,"a=mid:")[0];if(n)return n.substring(6)},r.parseFingerprint=function(t){let r=t.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},r.getDtlsParameters=function(t,n){let o=r.matchPrefix(t+n,"a=fingerprint:");return{role:"auto",fingerprints:o.map(r.parseFingerprint)}},r.writeDtlsParameters=function(t,r){let n="a=setup:"+r+"\r\n";return t.fingerprints.forEach(t=>{n+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),n},r.parseCryptoLine=function(t){let r=t.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},r.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+("object"==typeof t.keyParams?r.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(t){if(0!==t.indexOf("inline:"))return null;let r=t.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},r.getCryptoParameters=function(t,n){let o=r.matchPrefix(t+n,"a=crypto:");return o.map(r.parseCryptoLine)},r.getIceParameters=function(t,n){let o=r.matchPrefix(t+n,"a=ice-ufrag:")[0],a=r.matchPrefix(t+n,"a=ice-pwd:")[0];return o&&a?{usernameFragment:o.substring(12),password:a.substring(10)}:null},r.writeIceParameters=function(t){let r="a=ice-ufrag:"+t.usernameFragment+"\r\na=ice-pwd:"+t.password+"\r\n";return t.iceLite&&(r+="a=ice-lite\r\n"),r},r.parseRtpParameters=function(t){let n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=r.splitLines(t),a=o[0].split(" ");n.profile=a[2];for(let o=3;o<a.length;o++){let c=a[o],l=r.matchPrefix(t,"a=rtpmap:"+c+" ")[0];if(l){let o=r.parseRtpMap(l),a=r.matchPrefix(t,"a=fmtp:"+c+" ");switch(o.parameters=a.length?r.parseFmtp(a[0]):{},o.rtcpFeedback=r.matchPrefix(t,"a=rtcp-fb:"+c+" ").map(r.parseRtcpFb),n.codecs.push(o),o.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(o.name.toUpperCase())}}}r.matchPrefix(t,"a=extmap:").forEach(t=>{n.headerExtensions.push(r.parseExtmap(t))});let c=r.matchPrefix(t,"a=rtcp-fb:* ").map(r.parseRtcpFb);return n.codecs.forEach(t=>{c.forEach(r=>{let n=t.rtcpFeedback.find(t=>t.type===r.type&&t.parameter===r.parameter);n||t.rtcpFeedback.push(r)})}),n},r.writeRtpDescription=function(t,n){let o="";o+="m="+t+" "+(n.codecs.length>0?"9":"0")+" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" "+n.codecs.map(t=>void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(t=>{o+=r.writeRtpMap(t)+r.writeFmtp(t)+r.writeRtcpFb(t)});let a=0;return n.codecs.forEach(t=>{t.maxptime>a&&(a=t.maxptime)}),a>0&&(o+="a=maxptime:"+a+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach(t=>{o+=r.writeExtmap(t)}),o},r.parseRtpEncodingParameters=function(t){let n;let o=[],a=r.parseRtpParameters(t),c=-1!==a.fecMechanisms.indexOf("RED"),l=-1!==a.fecMechanisms.indexOf("ULPFEC"),d=r.matchPrefix(t,"a=ssrc:").map(t=>r.parseSsrcMedia(t)).filter(t=>"cname"===t.attribute),f=d.length>0&&d[0].ssrc,m=r.matchPrefix(t,"a=ssrc-group:FID").map(t=>{let r=t.substring(17).split(" ");return r.map(t=>parseInt(t,10))});m.length>0&&m[0].length>1&&m[0][0]===f&&(n=m[0][1]),a.codecs.forEach(t=>{if("RTX"===t.name.toUpperCase()&&t.parameters.apt){let r={ssrc:f,codecPayloadType:parseInt(t.parameters.apt,10)};f&&n&&(r.rtx={ssrc:n}),o.push(r),c&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:f,mechanism:l?"red+ulpfec":"red"},o.push(r))}}),0===o.length&&f&&o.push({ssrc:f});let y=r.matchPrefix(t,"b=");return y.length&&(y=0===y[0].indexOf("b=TIAS:")?parseInt(y[0].substring(7),10):0===y[0].indexOf("b=AS:")?950*parseInt(y[0].substring(5),10)-16e3:void 0,o.forEach(t=>{t.maxBitrate=y})),o},r.parseRtcpParameters=function(t){let n={},o=r.matchPrefix(t,"a=ssrc:").map(t=>r.parseSsrcMedia(t)).filter(t=>"cname"===t.attribute)[0];o&&(n.cname=o.value,n.ssrc=o.ssrc);let a=r.matchPrefix(t,"a=rtcp-rsize");n.reducedSize=a.length>0,n.compound=0===a.length;let c=r.matchPrefix(t,"a=rtcp-mux");return n.mux=c.length>0,n},r.writeRtcpParameters=function(t){let r="";return t.reducedSize&&(r+="a=rtcp-rsize\r\n"),t.mux&&(r+="a=rtcp-mux\r\n"),void 0!==t.ssrc&&t.cname&&(r+="a=ssrc:"+t.ssrc+" cname:"+t.cname+"\r\n"),r},r.parseMsid=function(t){let n;let o=r.matchPrefix(t,"a=msid:");if(1===o.length)return{stream:(n=o[0].substring(7).split(" "))[0],track:n[1]};let a=r.matchPrefix(t,"a=ssrc:").map(t=>r.parseSsrcMedia(t)).filter(t=>"msid"===t.attribute);if(a.length>0)return{stream:(n=a[0].value.split(" "))[0],track:n[1]}},r.parseSctpDescription=function(t){let n;let o=r.parseMLine(t),a=r.matchPrefix(t,"a=max-message-size:");a.length>0&&(n=parseInt(a[0].substring(19),10)),isNaN(n)&&(n=65536);let c=r.matchPrefix(t,"a=sctp-port:");if(c.length>0)return{port:parseInt(c[0].substring(12),10),protocol:o.fmt,maxMessageSize:n};let l=r.matchPrefix(t,"a=sctpmap:");if(l.length>0){let t=l[0].substring(10).split(" ");return{port:parseInt(t[0],10),protocol:t[1],maxMessageSize:n}}},r.writeSctpDescription=function(t,r){let n=[];return n="DTLS/SCTP"!==t.protocol?["m="+t.kind+" 9 "+t.protocol+" "+r.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+r.port+"\r\n"]:["m="+t.kind+" 9 "+t.protocol+" "+r.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+r.port+" "+r.protocol+" 65535\r\n"],void 0!==r.maxMessageSize&&n.push("a=max-message-size:"+r.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,22)},r.writeSessionBoilerplate=function(t,n,o){return"v=0\r\no="+(o||"thisisadapterortc")+" "+(t||r.generateSessionId())+" "+(void 0!==n?n:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.getDirection=function(t,n){let o=r.splitLines(t);for(let t=0;t<o.length;t++)switch(o[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return o[t].substring(2)}return n?r.getDirection(n):"sendrecv"},r.getKind=function(t){let n=r.splitLines(t),o=n[0].split(" ");return o[0].substring(2)},r.isRejected=function(t){return"0"===t.split(" ",2)[1]},r.parseMLine=function(t){let n=r.splitLines(t),o=n[0].substring(2).split(" ");return{kind:o[0],port:parseInt(o[1],10),protocol:o[2],fmt:o.slice(3).join(" ")}},r.parseOLine=function(t){let n=r.matchPrefix(t,"o=")[0],o=n.substring(2).split(" ");return{username:o[0],sessionId:o[1],sessionVersion:parseInt(o[2],10),netType:o[3],addressType:o[4],address:o[5]}},r.isValidSDP=function(t){if("string"!=typeof t||0===t.length)return!1;let n=r.splitLines(t);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},t.exports=r},48065:function(t,r,n){"use strict";n.d(r,{g:function(){return b}});var o,a=n(2265),c={exports:{}},l={};function k(t){throw Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}l._=l._interop_require_default=function(t){return t&&t.__esModule?t:{default:t}};var d,f={},m={};!function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{noSSR:function(){return v},default:function(){return L}});let n=l._(a),c=l._((o||(o=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return y}});let r=l._(a),n=(d||(d=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return r}});let r=l._(a).default.createContext(null)}(m)),m),o=[],c=[],f=!1;function v(t){let r=t(),n={loading:!0,loaded:null,error:null};return n.promise=r.then(t=>(n.loading=!1,n.loaded=t,t)).catch(t=>{throw n.loading=!1,n.error=t,t}),n}let u=class u{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:t,_opts:r}=this;t.loading&&("number"==typeof r.delay&&(0===r.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},r.delay)),"number"==typeof r.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},r.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(t=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(t){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...t},this._callbacks.forEach(t=>t())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(t){return this._callbacks.add(t),()=>{this._callbacks.delete(t)}}constructor(t,r){this._loadFn=t,this._opts=r,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}};function i(t){return function(t,a){let l=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},a),d=null;function p(){if(!d){let r=new u(t,l);d={getCurrentValue:r.getCurrentValue.bind(r),subscribe:r.subscribe.bind(r),retry:r.retry.bind(r),promise:r.promise.bind(r)}}return d.promise()}if(typeof window>"u"&&o.push(p),!f&&"u">typeof window){let t=l.webpack&&"function"==typeof k.resolveWeak?l.webpack():l.modules;t&&c.push(r=>{for(let n of t)if(-1!==r.indexOf(n))return p()})}function C(t,o){(function(){p();let t=r.default.useContext(n.LoadableContext);t&&Array.isArray(l.modules)&&l.modules.forEach(r=>{t(r)})})();let a=r.default.useSyncExternalStore(d.subscribe,d.getCurrentValue,d.getCurrentValue);return r.default.useImperativeHandle(o,()=>({retry:d.retry}),[]),r.default.useMemo(()=>{var n;return a.loading||a.error?r.default.createElement(l.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:d.retry}):a.loaded?r.default.createElement((n=a.loaded)&&n.default?n.default:n,t):null},[t,a])}return C.preload=()=>p(),C.displayName="LoadableComponent",r.default.forwardRef(C)}(v,t)}function s(t,r){let n=[];for(;t.length;){let o=t.pop();n.push(o(r))}return Promise.all(n).then(()=>{if(t.length)return s(t,r)})}i.preloadAll=()=>new Promise((t,r)=>{s(o).then(t,r)}),i.preloadReady=t=>(void 0===t&&(t=[]),new Promise(r=>{let e=()=>(f=!0,r());s(c,t).then(e,e)})),"u">typeof window&&(window.__NEXT_PRELOADREADY=i.preloadReady);let y=i}(f)),f)),y=typeof window>"u";function h(t){return{default:(null==t?void 0:t.default)||t}}function v(t,r){if(delete r.webpack,delete r.modules,!y)return t(r);let o=r.loading;return()=>n.default.createElement(o,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}function L(t,r){let n=c.default,o={loading:t=>{let{error:r,isLoading:n,pastDelay:o}=t;return null}};t instanceof Promise?o.loader=()=>t:"function"==typeof t?o.loader=t:"object"==typeof t&&(o={...o,...t}),o={...o,...r};let a=o.loader;return o.loadableGenerated&&(o={...o,...o.loadableGenerated},delete o.loadableGenerated),"boolean"!=typeof o.ssr||o.ssr?n({...o,loader:()=>null!=a?a().then(h):Promise.resolve(h(()=>null))}):(delete o.webpack,delete o.modules,v(n,o))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&typeof r.default.__esModule>"u"&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)}(c,c.exports);var y=c.exports;let g=y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y,b=g(async()=>(await n.e(672).then(n.bind(n,12143))).ReactP5Wrapper,{ssr:!1})},11490:function(t,r,n){"use strict";/*! js-cookie v3.0.5 | MIT */function assign(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)t[o]=n[o]}return t}n.d(r,{Z:function(){return o}});var o=function init(t,r){function set(n,o,a){if("undefined"!=typeof document){"number"==typeof(a=assign({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var l in a)a[l]&&(c+="; "+l,!0!==a[l]&&(c+="="+a[l].split(";")[0]));return document.cookie=n+"="+t.write(o,n)+c}}return Object.create({set,get:function(r){if("undefined"!=typeof document&&(!arguments.length||r)){for(var n=document.cookie?document.cookie.split("; "):[],o={},a=0;a<n.length;a++){var c=n[a].split("="),l=c.slice(1).join("=");try{var d=decodeURIComponent(c[0]);if(o[d]=t.read(l,d),r===d)break}catch(t){}}return r?o[r]:o}},remove:function(t,r){set(t,"",assign({},r,{expires:-1}))},withAttributes:function(t){return init(this.converter,assign({},this.attributes,t))},withConverter:function(t){return init(assign({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},93490:function(t,r,n){"use strict";let o,a,c,l,d,f,m,y,g,b,_,w,S,T,E,P,O;n.d(r,{_z:function(){return $416260bce337df90$export$ecd1fc136c422448}});var R,x,B,A,j,I,M,$,D,U,N,F,z,V,q,W,H={};n.r(H),n.d(H,{fixNegotiationNeeded:function(){return fixNegotiationNeeded},shimAddTrackRemoveTrack:function(){return shimAddTrackRemoveTrack},shimAddTrackRemoveTrackWithNative:function(){return shimAddTrackRemoveTrackWithNative},shimGetDisplayMedia:function(){return shimGetDisplayMedia},shimGetSendersWithDtmf:function(){return shimGetSendersWithDtmf},shimGetStats:function(){return shimGetStats},shimGetUserMedia:function(){return shimGetUserMedia},shimMediaStream:function(){return shimMediaStream},shimOnTrack:function(){return shimOnTrack},shimPeerConnection:function(){return shimPeerConnection},shimSenderReceiverGetStats:function(){return shimSenderReceiverGetStats}});var J={};n.r(J),n.d(J,{shimAddTransceiver:function(){return shimAddTransceiver},shimCreateAnswer:function(){return shimCreateAnswer},shimCreateOffer:function(){return shimCreateOffer},shimGetDisplayMedia:function(){return getdisplaymedia_shimGetDisplayMedia},shimGetParameters:function(){return shimGetParameters},shimGetUserMedia:function(){return getusermedia_shimGetUserMedia},shimOnTrack:function(){return firefox_shim_shimOnTrack},shimPeerConnection:function(){return firefox_shim_shimPeerConnection},shimRTCDataChannel:function(){return shimRTCDataChannel},shimReceiverGetStats:function(){return shimReceiverGetStats},shimRemoveStream:function(){return shimRemoveStream},shimSenderGetStats:function(){return shimSenderGetStats}});var K={};n.r(K),n.d(K,{shimAudioContext:function(){return shimAudioContext},shimCallbacksAPI:function(){return shimCallbacksAPI},shimConstraints:function(){return shimConstraints},shimCreateOfferLegacy:function(){return shimCreateOfferLegacy},shimGetUserMedia:function(){return safari_shim_shimGetUserMedia},shimLocalStreamsAPI:function(){return shimLocalStreamsAPI},shimRTCIceServerUrls:function(){return shimRTCIceServerUrls},shimRemoteStreamsAPI:function(){return shimRemoteStreamsAPI},shimTrackEventTransceiver:function(){return shimTrackEventTransceiver}});var G={};n.r(G),n.d(G,{removeExtmapAllowMixed:function(){return removeExtmapAllowMixed},shimAddIceCandidateNullOrEmpty:function(){return shimAddIceCandidateNullOrEmpty},shimConnectionState:function(){return shimConnectionState},shimMaxMessageSize:function(){return shimMaxMessageSize},shimParameterlessSetLocalDescription:function(){return shimParameterlessSetLocalDescription},shimRTCIceCandidate:function(){return shimRTCIceCandidate},shimRTCIceCandidateRelayProtocol:function(){return shimRTCIceCandidateRelayProtocol},shimSendThrowTypeError:function(){return shimSendThrowTypeError}});let $e8379818650e2442$export$93654d4f2d6cd524=class $e8379818650e2442$export$93654d4f2d6cd524{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){let t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){let t=[];for(let r of this._parts)t.push(r);return function(t){let r=0;for(let n of t)r+=n.byteLength;let n=new Uint8Array(r),o=0;for(let r of t){let t=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);n.set(t,o),o+=r.byteLength}return n}(t).buffer}};function $0cfd7828ad59115f$export$417857010dc9287f(t){let r=new $0cfd7828ad59115f$var$Unpacker(t);return r.unpack()}function $0cfd7828ad59115f$export$2a703dbb0cb35339(t){let r=new $0cfd7828ad59115f$export$b9ec4b114aa40074;return r.pack(t),r.getBuffer()}let $0cfd7828ad59115f$var$Unpacker=class $0cfd7828ad59115f$var$Unpacker{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){let t;let r=this.unpack_uint8();if(r<128)return r;if((224^r)<32)return(224^r)-32;if((t=160^r)<=15)return this.unpack_raw(t);if((t=176^r)<=15)return this.unpack_string(t);if((t=144^r)<=15)return this.unpack_array(t);if((t=128^r)<=15)return this.unpack_map(t);switch(r){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){let t=255&this.dataView[this.index];return this.index++,t}unpack_uint16(){let t=this.read(2),r=(255&t[0])*256+(255&t[1]);return this.index+=2,r}unpack_uint32(){let t=this.read(4),r=((256*t[0]+t[1])*256+t[2])*256+t[3];return this.index+=4,r}unpack_uint64(){let t=this.read(8),r=((((((256*t[0]+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,r}unpack_int8(){let t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){let t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){let t=this.unpack_uint32();return t<2147483648?t:t-4294967296}unpack_int64(){let t=this.unpack_uint64();return t<0x7fffffffffffffff?t:t-18446744073709552e3}unpack_raw(t){if(this.length<this.index+t)throw Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);let r=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,r}unpack_string(t){let r,n;let o=this.read(t),a=0,c="";for(;a<t;)(r=o[a])<160?(n=r,a++):(192^r)<32?(n=(31&r)<<6|63&o[a+1],a+=2):(224^r)<16?(n=(15&r)<<12|(63&o[a+1])<<6|63&o[a+2],a+=3):(n=(7&r)<<18|(63&o[a+1])<<12|(63&o[a+2])<<6|63&o[a+3],a+=4),c+=String.fromCodePoint(n);return this.index+=t,c}unpack_array(t){let r=Array(t);for(let n=0;n<t;n++)r[n]=this.unpack();return r}unpack_map(t){let r={};for(let n=0;n<t;n++){let t=this.unpack();r[t]=this.unpack()}return r}unpack_float(){let t=this.unpack_uint32();return(0==t>>31?1:-1)*(8388607&t|8388608)*2**((t>>23&255)-127-23)}unpack_double(){let t=this.unpack_uint32(),r=this.unpack_uint32(),n=(t>>20&2047)-1023;return(0==t>>31?1:-1)*((1048575&t|1048576)*2**(n-20)+r*2**(n-52))}read(t){let r=this.index;if(r+t<=this.length)return this.dataView.subarray(r,r+t);throw Error("BinaryPackFailure: read index out of range")}};let $0cfd7828ad59115f$export$b9ec4b114aa40074=class $0cfd7828ad59115f$export$b9ec4b114aa40074{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if("string"==typeof t)this.pack_string(t);else if("number"==typeof t)Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if("boolean"==typeof t)!0===t?this._bufferBuilder.append(195):!1===t&&this._bufferBuilder.append(194);else if(void 0===t)this._bufferBuilder.append(192);else if("object"==typeof t){if(null===t)this._bufferBuilder.append(192);else{let r=t.constructor;if(t instanceof Array)this.pack_array(t);else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t)this.pack_bin(new Uint8Array(t.buffer,t.byteOffset,t.byteLength));else if(t instanceof Date)this.pack_string(t.toString());else if(r==Object||r.toString().startsWith("class"))this.pack_object(t);else throw Error(`Type "${r.toString()}" not yet supported`)}}else throw Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){let r=t.length;if(r<=15)this.pack_uint8(160+r);else if(r<=65535)this._bufferBuilder.append(218),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(r);else throw Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){let r=this._textEncoder.encode(t),n=r.length;if(n<=15)this.pack_uint8(176+n);else if(n<=65535)this._bufferBuilder.append(216),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(n);else throw Error("Invalid length");this._bufferBuilder.append_buffer(r)}pack_array(t){let r=t.length;if(r<=15)this.pack_uint8(144+r);else if(r<=65535)this._bufferBuilder.append(220),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(r);else throw Error("Invalid length");for(let n=0;n<r;n++)this.pack(t[n])}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(255&t);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-0x8000000000000000&&t<=0x7fffffffffffffff)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw Error("Invalid integer")}pack_double(t){let r=0;t<0&&(r=1,t=-t);let n=Math.floor(Math.log(t)/Math.LN2),o=t/2**n-1,a=Math.floor(4503599627370496*o),c=r<<31|n+1023<<20|a/4294967296&1048575;this._bufferBuilder.append(203),this.pack_int32(c),this.pack_int32(a%4294967296)}pack_object(t){let r=Object.keys(t),n=r.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this._bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(n);else throw Error("Invalid length");for(let r in t)t.hasOwnProperty(r)&&(this.pack(r),this.pack(t[r]))}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(255&t)}pack_uint32(t){let r=4294967295&t;this._bufferBuilder.append((4278190080&r)>>>24),this._bufferBuilder.append((16711680&r)>>>16),this._bufferBuilder.append((65280&r)>>>8),this._bufferBuilder.append(255&r)}pack_uint64(t){let r=t/4294967296,n=t%4294967296;this._bufferBuilder.append((4278190080&r)>>>24),this._bufferBuilder.append((16711680&r)>>>16),this._bufferBuilder.append((65280&r)>>>8),this._bufferBuilder.append(255&r),this._bufferBuilder.append((4278190080&n)>>>24),this._bufferBuilder.append((16711680&n)>>>16),this._bufferBuilder.append((65280&n)>>>8),this._bufferBuilder.append(255&n)}pack_int8(t){this._bufferBuilder.append(255&t)}pack_int16(t){this._bufferBuilder.append((65280&t)>>8),this._bufferBuilder.append(255&t)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((16711680&t)>>>16),this._bufferBuilder.append((65280&t)>>>8),this._bufferBuilder.append(255&t)}pack_int64(t){let r=Math.floor(t/4294967296),n=t%4294967296;this._bufferBuilder.append((4278190080&r)>>>24),this._bufferBuilder.append((16711680&r)>>>16),this._bufferBuilder.append((65280&r)>>>8),this._bufferBuilder.append(255&r),this._bufferBuilder.append((4278190080&n)>>>24),this._bufferBuilder.append((16711680&n)>>>16),this._bufferBuilder.append((65280&n)>>>8),this._bufferBuilder.append(255&n)}constructor(){this._bufferBuilder=new $e8379818650e2442$export$93654d4f2d6cd524,this._textEncoder=new TextEncoder}};let Y=!0,X=!0;function extractVersion(t,r,n){let o=t.match(r);return o&&o.length>=n&&parseInt(o[n],10)}function wrapPeerConnectionEvent(t,r,n){if(!t.RTCPeerConnection)return;let o=t.RTCPeerConnection.prototype,a=o.addEventListener;o.addEventListener=function(t,o){if(t!==r)return a.apply(this,arguments);let wrappedCallback=t=>{let r=n(t);r&&(o.handleEvent?o.handleEvent(r):o(r))};return this._eventMap=this._eventMap||{},this._eventMap[r]||(this._eventMap[r]=new Map),this._eventMap[r].set(o,wrappedCallback),a.apply(this,[t,wrappedCallback])};let c=o.removeEventListener;o.removeEventListener=function(t,n){if(t!==r||!this._eventMap||!this._eventMap[r]||!this._eventMap[r].has(n))return c.apply(this,arguments);let o=this._eventMap[r].get(n);return this._eventMap[r].delete(n),0===this._eventMap[r].size&&delete this._eventMap[r],0===Object.keys(this._eventMap).length&&delete this._eventMap,c.apply(this,[t,o])},Object.defineProperty(o,"on"+r,{get(){return this["_on"+r]},set(t){this["_on"+r]&&(this.removeEventListener(r,this["_on"+r]),delete this["_on"+r]),t&&this.addEventListener(r,this["_on"+r]=t)},enumerable:!0,configurable:!0})}function disableLog(t){return"boolean"!=typeof t?Error("Argument type: "+typeof t+". Please use a boolean."):(Y=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function disableWarnings(t){return"boolean"!=typeof t?Error("Argument type: "+typeof t+". Please use a boolean."):(X=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function log(){"object"!=typeof window||Y||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function deprecated(t,r){X&&console.warn(t+" is deprecated, please use "+r+" instead.")}function isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function filterStats(t,r,n){let o=n?"outbound-rtp":"inbound-rtp",a=new Map;if(null===r)return a;let c=[];return t.forEach(t=>{"track"===t.type&&t.trackIdentifier===r.id&&c.push(t)}),c.forEach(r=>{t.forEach(n=>{n.type===o&&n.trackId===r.id&&function walkStats(t,r,n){!r||n.has(r.id)||(n.set(r.id,r),Object.keys(r).forEach(o=>{o.endsWith("Id")?walkStats(t,t.get(r[o]),n):o.endsWith("Ids")&&r[o].forEach(r=>{walkStats(t,t.get(r),n)})}))}(t,n,a)})}),a}function shimGetUserMedia(t,r){let n=t&&t.navigator;if(!n.mediaDevices)return;let constraintsToChrome_=function(t){if("object"!=typeof t||t.mandatory||t.optional)return t;let r={};return Object.keys(t).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;let o="object"==typeof t[n]?t[n]:{ideal:t[n]};void 0!==o.exact&&"number"==typeof o.exact&&(o.min=o.max=o.exact);let oldname_=function(t,r){return t?t+r.charAt(0).toUpperCase()+r.slice(1):"deviceId"===r?"sourceId":r};if(void 0!==o.ideal){r.optional=r.optional||[];let t={};"number"==typeof o.ideal?(t[oldname_("min",n)]=o.ideal,r.optional.push(t),(t={})[oldname_("max",n)]=o.ideal):t[oldname_("",n)]=o.ideal,r.optional.push(t)}void 0!==o.exact&&"number"!=typeof o.exact?(r.mandatory=r.mandatory||{},r.mandatory[oldname_("",n)]=o.exact):["min","max"].forEach(t=>{void 0!==o[t]&&(r.mandatory=r.mandatory||{},r.mandatory[oldname_(t,n)]=o[t])})}),t.advanced&&(r.optional=(r.optional||[]).concat(t.advanced)),r},shimConstraints_=function(t,o){if(r.version>=61)return o(t);if((t=JSON.parse(JSON.stringify(t)))&&"object"==typeof t.audio){let remap=function(t,r,n){r in t&&!(n in t)&&(t[n]=t[r],delete t[r])};remap((t=JSON.parse(JSON.stringify(t))).audio,"autoGainControl","googAutoGainControl"),remap(t.audio,"noiseSuppression","googNoiseSuppression"),t.audio=constraintsToChrome_(t.audio)}if(t&&"object"==typeof t.video){let a=t.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});let c=r.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!c)){let r;if(delete t.video.facingMode,"environment"===a.exact||"environment"===a.ideal?r=["back","rear"]:("user"===a.exact||"user"===a.ideal)&&(r=["front"]),r)return n.mediaDevices.enumerateDevices().then(n=>{let c=(n=n.filter(t=>"videoinput"===t.kind)).find(t=>r.some(r=>t.label.toLowerCase().includes(r)));return!c&&n.length&&r.includes("back")&&(c=n[n.length-1]),c&&(t.video.deviceId=a.exact?{exact:c.deviceId}:{ideal:c.deviceId}),t.video=constraintsToChrome_(t.video),log("chrome: "+JSON.stringify(t)),o(t)})}t.video=constraintsToChrome_(t.video)}return log("chrome: "+JSON.stringify(t)),o(t)},shimError_=function(t){return r.version>=64?t:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[t.name]||t.name,message:t.message,constraint:t.constraint||t.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=(function(t,r,o){shimConstraints_(t,t=>{n.webkitGetUserMedia(t,r,t=>{o&&o(shimError_(t))})})}).bind(n),n.mediaDevices.getUserMedia){let t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(r){return shimConstraints_(r,r=>t(r).then(t=>{if(r.audio&&!t.getAudioTracks().length||r.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(t=>{t.stop()}),new DOMException("","NotFoundError");return t},t=>Promise.reject(shimError_(t))))}}}function shimGetDisplayMedia(t,r){if((!t.navigator.mediaDevices||!("getDisplayMedia"in t.navigator.mediaDevices))&&t.navigator.mediaDevices){if("function"!=typeof r){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(n){return r(n).then(r=>{let o=n.video&&n.video.width,a=n.video&&n.video.height,c=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:r,maxFrameRate:c||3}},o&&(n.video.mandatory.maxWidth=o),a&&(n.video.mandatory.maxHeight=a),t.navigator.mediaDevices.getUserMedia(n)})}}}function shimMediaStream(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function shimOnTrack(t){if("object"!=typeof t||!t.RTCPeerConnection||"ontrack"in t.RTCPeerConnection.prototype)wrapPeerConnectionEvent(t,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t));else{Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});let r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",n=>{let o;o=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(t=>t.track&&t.track.id===n.track.id):{track:n.track};let a=new Event("track");a.track=n.track,a.receiver=o,a.transceiver={receiver:o},a.streams=[r.stream],this.dispatchEvent(a)}),r.stream.getTracks().forEach(n=>{let o;o=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(t=>t.track&&t.track.id===n.id):{track:n};let a=new Event("track");a.track=n,a.receiver=o,a.transceiver={receiver:o},a.streams=[r.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),r.apply(this,arguments)}}}function shimGetSendersWithDtmf(t){if("object"==typeof t&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){let shimSenderWithDtmf=function(t,r){return{track:r,get dtmf(){return void 0===this._dtmf&&("audio"===r.kind?this._dtmf=t.createDTMFSender(r):this._dtmf=null),this._dtmf},_pc:t}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let r=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,n){let o=r.apply(this,arguments);return o||(o=shimSenderWithDtmf(this,t),this._senders.push(o)),o};let n=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){n.apply(this,arguments);let r=this._senders.indexOf(t);-1!==r&&this._senders.splice(r,1)}}let r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){this._senders=this._senders||[],r.apply(this,[t]),t.getTracks().forEach(t=>{this._senders.push(shimSenderWithDtmf(this,t))})};let n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){this._senders=this._senders||[],n.apply(this,[t]),t.getTracks().forEach(t=>{let r=this._senders.find(r=>r.track===t);r&&this._senders.splice(this._senders.indexOf(r),1)})}}else if("object"==typeof t&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){let r=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){let t=r.apply(this,[]);return t.forEach(t=>t._pc=this),t},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function shimGetStats(t){if(!t.RTCPeerConnection)return;let r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){let[t,n,o]=arguments;if(arguments.length>0&&"function"==typeof t)return r.apply(this,arguments);if(0===r.length&&(0==arguments.length||"function"!=typeof t))return r.apply(this,[]);let fixChromeStats_=function(t){let r={},n=t.result();return n.forEach(t=>{let n={id:t.id,timestamp:t.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type};t.names().forEach(r=>{n[r]=t.stat(r)}),r[n.id]=n}),r},makeMapStats=function(t){return new Map(Object.keys(t).map(r=>[r,t[r]]))};return arguments.length>=2?r.apply(this,[function(t){n(makeMapStats(fixChromeStats_(t)))},t]):new Promise((t,n)=>{r.apply(this,[function(r){t(makeMapStats(fixChromeStats_(r)))},n])}).then(n,o)}}function shimSenderReceiverGetStats(t){if(!("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){let r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){let t=r.apply(this,[]);return t.forEach(t=>t._pc=this),t});let n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){let t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){let t=this;return this._pc.getStats().then(r=>filterStats(r,t.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){let r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){let t=r.apply(this,[]);return t.forEach(t=>t._pc=this),t}),wrapPeerConnectionEvent(t,"track",t=>(t.receiver._pc=t.srcElement,t)),t.RTCRtpReceiver.prototype.getStats=function(){let t=this;return this._pc.getStats().then(r=>filterStats(r,t.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;let r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){let t,r,n;let o=arguments[0];return(this.getSenders().forEach(r=>{r.track===o&&(t?n=!0:t=r)}),this.getReceivers().forEach(t=>(t.track===o&&(r?n=!0:r=t),t.track===o)),n||t&&r)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return r.apply(this,arguments)}}function shimAddTrackRemoveTrackWithNative(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(t=>this._shimmedLocalStreams[t][0])};let r=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,n){if(!n)return r.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let o=r.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(o)&&this._shimmedLocalStreams[n.id].push(o):this._shimmedLocalStreams[n.id]=[n,o],o};let n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){this._shimmedLocalStreams=this._shimmedLocalStreams||{},t.getTracks().forEach(t=>{let r=this.getSenders().find(r=>r.track===t);if(r)throw new DOMException("Track already exists.","InvalidAccessError")});let r=this.getSenders();n.apply(this,arguments);let o=this.getSenders().filter(t=>-1===r.indexOf(t));this._shimmedLocalStreams[t.id]=[t].concat(o)};let o=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[t.id],o.apply(this,arguments)};let a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},t&&Object.keys(this._shimmedLocalStreams).forEach(r=>{let n=this._shimmedLocalStreams[r].indexOf(t);-1!==n&&this._shimmedLocalStreams[r].splice(n,1),1===this._shimmedLocalStreams[r].length&&delete this._shimmedLocalStreams[r]}),a.apply(this,arguments)}}function shimAddTrackRemoveTrack(t,r){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&r.version>=65)return shimAddTrackRemoveTrackWithNative(t);let n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){let t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map(t=>this._reverseStreams[t.id])};let o=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(r){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.getTracks().forEach(t=>{let r=this.getSenders().find(r=>r.track===t);if(r)throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[r.id]){let n=new t.MediaStream(r.getTracks());this._streams[r.id]=n,this._reverseStreams[n.id]=r,r=n}o.apply(this,[r])};let a=t.RTCPeerConnection.prototype.removeStream;function replaceInternalStreamId(t,r){let n=r.sdp;return Object.keys(t._reverseStreams||[]).forEach(r=>{let o=t._reverseStreams[r],a=t._streams[o.id];n=n.replace(RegExp(a.id,"g"),o.id)}),new RTCSessionDescription({type:r.type,sdp:n})}t.RTCPeerConnection.prototype.removeStream=function(t){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[t.id]||t]),delete this._reverseStreams[this._streams[t.id]?this._streams[t.id].id:t.id],delete this._streams[t.id]},t.RTCPeerConnection.prototype.addTrack=function(r,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let o=[].slice.call(arguments,1);if(1!==o.length||!o[0].getTracks().find(t=>t===r))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");let a=this.getSenders().find(t=>t.track===r);if(a)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let c=this._streams[n.id];if(c)c.addTrack(r),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let o=new t.MediaStream([r]);this._streams[n.id]=o,this._reverseStreams[o.id]=n,this.addStream(o)}return this.getSenders().find(t=>t.track===r)},["createOffer","createAnswer"].forEach(function(r){let n=t.RTCPeerConnection.prototype[r];t.RTCPeerConnection.prototype[r]=({[r](){let t=arguments,r=arguments.length&&"function"==typeof arguments[0];return r?n.apply(this,[r=>{let n=replaceInternalStreamId(this,r);t[0].apply(null,[n])},r=>{t[1]&&t[1].apply(null,r)},arguments[2]]):n.apply(this,arguments).then(t=>replaceInternalStreamId(this,t))}})[r]});let c=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){var t,r;let n;return arguments.length&&arguments[0].type&&(arguments[0]=(t=this,r=arguments[0],n=r.sdp,Object.keys(t._reverseStreams||[]).forEach(r=>{let o=t._reverseStreams[r],a=t._streams[o.id];n=n.replace(RegExp(o.id,"g"),a.id)}),new RTCSessionDescription({type:r.type,sdp:n}))),c.apply(this,arguments)};let l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){let t=l.get.apply(this);return""===t.type?t:replaceInternalStreamId(this,t)}}),t.RTCPeerConnection.prototype.removeTrack=function(t){let r;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!t._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");let n=t._pc===this;if(!n)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{let o=this._streams[n].getTracks().find(r=>t.track===r);o&&(r=this._streams[n])}),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(t.track),this.dispatchEvent(new Event("negotiationneeded")))}}function shimPeerConnection(t,r){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){let n=t.RTCPeerConnection.prototype[r];t.RTCPeerConnection.prototype[r]=({[r](){return arguments[0]=new("addIceCandidate"===r?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}})[r]})}function fixNegotiationNeeded(t,r){wrapPeerConnectionEvent(t,"negotiationneeded",t=>{let n=t.target;if(!(r.version<72)&&(!n.getConfiguration||"plan-b"!==n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return t})}function getusermedia_shimGetUserMedia(t,r){let n=t&&t.navigator,o=t&&t.MediaStreamTrack;if(n.getUserMedia=function(t,r,o){deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(t).then(r,o)},!(r.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){let remap=function(t,r,n){r in t&&!(n in t)&&(t[n]=t[r],delete t[r])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(r){return"object"==typeof r&&"object"==typeof r.audio&&(remap((r=JSON.parse(JSON.stringify(r))).audio,"autoGainControl","mozAutoGainControl"),remap(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},o&&o.prototype.getSettings){let t=o.prototype.getSettings;o.prototype.getSettings=function(){let r=t.apply(this,arguments);return remap(r,"mozAutoGainControl","autoGainControl"),remap(r,"mozNoiseSuppression","noiseSuppression"),r}}if(o&&o.prototype.applyConstraints){let t=o.prototype.applyConstraints;o.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"==typeof r&&(remap(r=JSON.parse(JSON.stringify(r)),"autoGainControl","mozAutoGainControl"),remap(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}function getdisplaymedia_shimGetDisplayMedia(t,r){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||!t.navigator.mediaDevices||(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){let t=new DOMException("getDisplayMedia without video constraints is undefined");return t.name="NotFoundError",t.code=8,Promise.reject(t)}return!0===n.video?n.video={mediaSource:r}:n.video.mediaSource=r,t.navigator.mediaDevices.getUserMedia(n)})}function firefox_shim_shimOnTrack(t){"object"==typeof t&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function firefox_shim_shimPeerConnection(t,r){if("object"!=typeof t||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){let n=t.RTCPeerConnection.prototype[r];t.RTCPeerConnection.prototype[r]=({[r](){return arguments[0]=new("addIceCandidate"===r?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}})[r]});let n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){let[t,a,c]=arguments;return o.apply(this,[t||null]).then(t=>{if(r.version<53&&!a)try{t.forEach(t=>{t.type=n[t.type]||t.type})}catch(r){if("TypeError"!==r.name)throw r;t.forEach((r,o)=>{t.set(o,Object.assign({},r,{type:n[r.type]||r.type}))})}return t}).then(a,c)}}function shimSenderGetStats(t){if(!("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;let r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){let t=r.apply(this,[]);return t.forEach(t=>t._pc=this),t});let n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){let t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function shimReceiverGetStats(t){if(!("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;let r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){let t=r.apply(this,[]);return t.forEach(t=>t._pc=this),t}),wrapPeerConnectionEvent(t,"track",t=>(t.receiver._pc=t.srcElement,t)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function shimRemoveStream(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){deprecated("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&t.getTracks().includes(r.track)&&this.removeTrack(r)})})}function shimRTCDataChannel(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function shimAddTransceiver(t){if(!("object"==typeof t&&t.RTCPeerConnection))return;let r=t.RTCPeerConnection.prototype.addTransceiver;r&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let t=arguments[1]&&arguments[1].sendEncodings;void 0===t&&(t=[]),t=[...t];let n=t.length>0;n&&t.forEach(t=>{if("rid"in t&&!/^[a-z0-9]{0,16}$/i.test(t.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in t&&!(parseFloat(t.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in t&&!(parseFloat(t.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let o=r.apply(this,arguments);if(n){let{sender:r}=o,n=r.getParameters();"encodings"in n&&(1!==n.encodings.length||0!==Object.keys(n.encodings[0]).length)||(n.encodings=t,r.sendEncodings=t,this.setParametersPromises.push(r.setParameters(n).then(()=>{delete r.sendEncodings}).catch(()=>{delete r.sendEncodings})))}return o})}function shimGetParameters(t){if(!("object"==typeof t&&t.RTCRtpSender))return;let r=t.RTCRtpSender.prototype.getParameters;r&&(t.RTCRtpSender.prototype.getParameters=function(){let t=r.apply(this,arguments);return"encodings"in t||(t.encodings=[].concat(this.sendEncodings||[{}])),t})}function shimCreateOffer(t){if(!("object"==typeof t&&t.RTCPeerConnection))return;let r=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>r.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):r.apply(this,arguments)}}function shimCreateAnswer(t){if(!("object"==typeof t&&t.RTCPeerConnection))return;let r=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>r.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):r.apply(this,arguments)}}function shimLocalStreamsAPI(t){if("object"==typeof t&&t.RTCPeerConnection){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){let r=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(t){this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach(n=>r.call(this,n,t)),t.getVideoTracks().forEach(n=>r.call(this,n,t))},t.RTCPeerConnection.prototype.addTrack=function(t,...n){return n&&n.forEach(t=>{this._localStreams?this._localStreams.includes(t)||this._localStreams.push(t):this._localStreams=[t]}),r.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);let r=this._localStreams.indexOf(t);if(-1===r)return;this._localStreams.splice(r,1);let n=t.getTracks();this.getSenders().forEach(t=>{n.includes(t.track)&&this.removeTrack(t)})})}}function shimRemoteStreamsAPI(t){if("object"==typeof t&&t.RTCPeerConnection&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=t=>{t.streams.forEach(t=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(t))return;this._remoteStreams.push(t);let r=new Event("addstream");r.stream=t,this.dispatchEvent(r)})})}});let r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){let t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(r=>{if(t._remoteStreams||(t._remoteStreams=[]),t._remoteStreams.indexOf(r)>=0)return;t._remoteStreams.push(r);let n=new Event("addstream");n.stream=r,t.dispatchEvent(n)})}),r.apply(t,arguments)}}}function shimCallbacksAPI(t){if("object"!=typeof t||!t.RTCPeerConnection)return;let r=t.RTCPeerConnection.prototype,n=r.createOffer,o=r.createAnswer,a=r.setLocalDescription,c=r.setRemoteDescription,l=r.addIceCandidate;r.createOffer=function(t,r){let o=arguments.length>=2?arguments[2]:arguments[0],a=n.apply(this,[o]);return r?(a.then(t,r),Promise.resolve()):a},r.createAnswer=function(t,r){let n=arguments.length>=2?arguments[2]:arguments[0],a=o.apply(this,[n]);return r?(a.then(t,r),Promise.resolve()):a};let withCallback=function(t,r,n){let o=a.apply(this,[t]);return n?(o.then(r,n),Promise.resolve()):o};r.setLocalDescription=withCallback,withCallback=function(t,r,n){let o=c.apply(this,[t]);return n?(o.then(r,n),Promise.resolve()):o},r.setRemoteDescription=withCallback,withCallback=function(t,r,n){let o=l.apply(this,[t]);return n?(o.then(r,n),Promise.resolve()):o},r.addIceCandidate=withCallback}function safari_shim_shimGetUserMedia(t){let r=t&&t.navigator;if(r.mediaDevices&&r.mediaDevices.getUserMedia){let t=r.mediaDevices,n=t.getUserMedia.bind(t);r.mediaDevices.getUserMedia=t=>n(shimConstraints(t))}!r.getUserMedia&&r.mediaDevices&&r.mediaDevices.getUserMedia&&(r.getUserMedia=(function(t,n,o){r.mediaDevices.getUserMedia(t).then(n,o)}).bind(r))}function shimConstraints(t){return t&&void 0!==t.video?Object.assign({},t,{video:function compactObject(t){return isObject(t)?Object.keys(t).reduce(function(r,n){let o=isObject(t[n]),a=o?compactObject(t[n]):t[n],c=o&&!Object.keys(a).length;return void 0===a||c?r:Object.assign(r,{[n]:a})},{}):t}(t.video)}):t}function shimRTCIceServerUrls(t){if(!t.RTCPeerConnection)return;let r=t.RTCPeerConnection;t.RTCPeerConnection=function(t,n){if(t&&t.iceServers){let r=[];for(let n=0;n<t.iceServers.length;n++){let o=t.iceServers[n];void 0===o.urls&&o.url?(deprecated("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,r.push(o)):r.push(t.iceServers[n])}t.iceServers=r}return new r(t,n)},t.RTCPeerConnection.prototype=r.prototype,"generateCertificate"in r&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:()=>r.generateCertificate})}function shimTrackEventTransceiver(t){"object"==typeof t&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function shimCreateOfferLegacy(t){let r=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(t){if(t){void 0!==t.offerToReceiveAudio&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);let r=this.getTransceivers().find(t=>"audio"===t.receiver.track.kind);!1===t.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==t.offerToReceiveAudio||r||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==t.offerToReceiveVideo&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);let n=this.getTransceivers().find(t=>"video"===t.receiver.track.kind);!1===t.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==t.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return r.apply(this,arguments)}}function shimAudioContext(t){"object"!=typeof t||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var Z=n(42341),Q=n.n(Z);function shimRTCIceCandidate(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;let r=t.RTCIceCandidate;t.RTCIceCandidate=function(t){if("object"==typeof t&&t.candidate&&0===t.candidate.indexOf("a=")&&((t=JSON.parse(JSON.stringify(t))).candidate=t.candidate.substring(2)),t.candidate&&t.candidate.length){let n=new r(t),o=Q().parseCandidate(t.candidate);for(let t in o)t in n||Object.defineProperty(n,t,{value:o[t]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new r(t)},t.RTCIceCandidate.prototype=r.prototype,wrapPeerConnectionEvent(t,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new t.RTCIceCandidate(r.candidate),writable:"false"}),r))}function shimRTCIceCandidateRelayProtocol(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||wrapPeerConnectionEvent(t,"icecandidate",t=>{if(t.candidate){let r=Q().parseCandidate(t.candidate.candidate);"relay"===r.type&&(t.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[r.priority>>24])}return t})}function shimMaxMessageSize(t,r){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let sctpInDescription=function(t){if(!t||!t.sdp)return!1;let r=Q().splitSections(t.sdp);return r.shift(),r.some(t=>{let r=Q().parseMLine(t);return r&&"application"===r.kind&&-1!==r.protocol.indexOf("SCTP")})},getRemoteFirefoxVersion=function(t){let r=t.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===r||r.length<2)return -1;let n=parseInt(r[1],10);return n!=n?-1:n},getCanSendMaxMessageSize=function(t){let n=65536;return"firefox"===r.browser&&(n=r.version<57?-1===t?16384:2147483637:r.version<60?57===r.version?65535:65536:2147483637),n},getMaxMessageSize=function(t,n){let o=65536;"firefox"===r.browser&&57===r.version&&(o=65535);let a=Q().matchPrefix(t.sdp,"a=max-message-size:");return a.length>0?o=parseInt(a[0].substring(19),10):"firefox"===r.browser&&-1!==n&&(o=2147483637),o},n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===r.browser&&r.version>=76){let{sdpSemantics:t}=this.getConfiguration();"plan-b"===t&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(sctpInDescription(arguments[0])){let t;let r=getRemoteFirefoxVersion(arguments[0]),n=getCanSendMaxMessageSize(r),o=getMaxMessageSize(arguments[0],r);t=0===n&&0===o?Number.POSITIVE_INFINITY:0===n||0===o?Math.max(n,o):Math.min(n,o);let a={};Object.defineProperty(a,"maxMessageSize",{get:()=>t}),this._sctp=a}return n.apply(this,arguments)}}function shimSendThrowTypeError(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function wrapDcSend(t,r){let n=t.send;t.send=function(){let o=arguments[0],a=o.length||o.size||o.byteLength;if("open"===t.readyState&&r.sctp&&a>r.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return n.apply(t,arguments)}}let r=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){let t=r.apply(this,arguments);return wrapDcSend(t,this),t},wrapPeerConnectionEvent(t,"datachannel",t=>(wrapDcSend(t.channel,t.target),t))}function shimConnectionState(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;let r=t.RTCPeerConnection.prototype;Object.defineProperty(r,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(r,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{let n=r[t];r[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=t=>{let r=t.target;if(r._lastConnectionState!==r.connectionState){r._lastConnectionState=r.connectionState;let n=new Event("connectionstatechange",t);r.dispatchEvent(n)}return t},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function removeExtmapAllowMixed(t,r){if(!t.RTCPeerConnection||"chrome"===r.browser&&r.version>=71||"safari"===r.browser&&r.version>=605)return;let n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&-1!==r.sdp.indexOf("\na=extmap-allow-mixed")){let n=r.sdp.split("\n").filter(t=>"a=extmap-allow-mixed"!==t.trim()).join("\n");t.RTCSessionDescription&&r instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:r.type,sdp:n}):r.sdp=n}return n.apply(this,arguments)}}function shimAddIceCandidateNullOrEmpty(t,r){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;let n=t.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===r.browser&&r.version<78||"firefox"===r.browser&&r.version<68||"safari"===r.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function shimParameterlessSetLocalDescription(t,r){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;let n=t.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(t.RTCPeerConnection.prototype.setLocalDescription=function(){let t=arguments[0]||{};if("object"!=typeof t||t.type&&t.sdp)return n.apply(this,arguments);if(!(t={type:t.type,sdp:t.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":t.type="offer";break;default:t.type="answer"}if(t.sdp||"offer"!==t.type&&"answer"!==t.type)return n.apply(this,[t]);let r="offer"===t.type?this.createOffer:this.createAnswer;return r.apply(this).then(t=>n.apply(this,[t]))})}let ee=function({window:t}={},r={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let n=function(t){let r={browser:null,version:null};if(void 0===t||!t.navigator||!t.navigator.userAgent)return r.browser="Not a browser.",r;let{navigator:n}=t;return n.mozGetUserMedia?(r.browser="firefox",r.version=extractVersion(n.userAgent,/Firefox\/(\d+)\./,1)):n.webkitGetUserMedia||!1===t.isSecureContext&&t.webkitRTCPeerConnection?(r.browser="chrome",r.version=extractVersion(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./)?(r.browser="safari",r.version=extractVersion(n.userAgent,/AppleWebKit\/(\d+)\./,1),r.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype):r.browser="Not a supported browser.",r}(t),o={browserDetails:n,commonShim:G,extractVersion:extractVersion,disableLog:disableLog,disableWarnings:disableWarnings,sdp:Z};switch(n.browser){case"chrome":if(!H||!shimPeerConnection||!r.shimChrome){log("Chrome shim is not included in this adapter release.");break}if(null===n.version){log("Chrome shim can not determine version, not shimming.");break}log("adapter.js shimming chrome."),o.browserShim=H,shimAddIceCandidateNullOrEmpty(t,n),shimParameterlessSetLocalDescription(t,n),shimGetUserMedia(t,n),shimMediaStream(t,n),shimPeerConnection(t,n),shimOnTrack(t,n),shimAddTrackRemoveTrack(t,n),shimGetSendersWithDtmf(t,n),shimGetStats(t,n),shimSenderReceiverGetStats(t,n),fixNegotiationNeeded(t,n),shimRTCIceCandidate(t,n),shimRTCIceCandidateRelayProtocol(t,n),shimConnectionState(t,n),shimMaxMessageSize(t,n),shimSendThrowTypeError(t,n),removeExtmapAllowMixed(t,n);break;case"firefox":if(!J||!firefox_shim_shimPeerConnection||!r.shimFirefox){log("Firefox shim is not included in this adapter release.");break}log("adapter.js shimming firefox."),o.browserShim=J,shimAddIceCandidateNullOrEmpty(t,n),shimParameterlessSetLocalDescription(t,n),getusermedia_shimGetUserMedia(t,n),firefox_shim_shimPeerConnection(t,n),firefox_shim_shimOnTrack(t,n),shimRemoveStream(t,n),shimSenderGetStats(t,n),shimReceiverGetStats(t,n),shimRTCDataChannel(t,n),shimAddTransceiver(t,n),shimGetParameters(t,n),shimCreateOffer(t,n),shimCreateAnswer(t,n),shimRTCIceCandidate(t,n),shimConnectionState(t,n),shimMaxMessageSize(t,n),shimSendThrowTypeError(t,n);break;case"safari":if(!K||!r.shimSafari){log("Safari shim is not included in this adapter release.");break}log("adapter.js shimming safari."),o.browserShim=K,shimAddIceCandidateNullOrEmpty(t,n),shimParameterlessSetLocalDescription(t,n),shimRTCIceServerUrls(t,n),shimCreateOfferLegacy(t,n),shimCallbacksAPI(t,n),shimLocalStreamsAPI(t,n),shimRemoteStreamsAPI(t,n),shimTrackEventTransceiver(t,n),safari_shim_shimGetUserMedia(t,n),shimAudioContext(t,n),shimRTCIceCandidate(t,n),shimRTCIceCandidateRelayProtocol(t,n),shimMaxMessageSize(t,n),shimSendThrowTypeError(t,n),removeExtmapAllowMixed(t,n);break;default:log("Unsupported browser!")}return o}({window:"undefined"==typeof window?void 0:window});var et=n(67133).lW;try{o=new TextDecoder}catch(t){}let er=0,en=[],ei={},eo=en,es=0,ea={},ec=0,el=0,eu=[],ed=[],eh={useRecords:!1,mapsAsObjects:!0},ef=!1,ep=2;try{Function("")}catch(t){ep=1/0}let decode_Decoder=class decode_Decoder{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),!1===t.useRecords&&void 0===t.mapsAsObjects&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap))for(let[r,n]of(this.mapKey=new Map,Object.entries(t.keyMap)))this.mapKey.set(n,r);Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let r=new Map;for(let[n,o]of Object.entries(t))r.set(this._keyMap.hasOwnProperty(n)?this._keyMap[n]:n,o);return r}decodeKeys(t){if(!this._keyMap||"Map"!=t.constructor.name)return t;if(!this._mapKey)for(let[t,r]of(this._mapKey=new Map,Object.entries(this._keyMap)))this._mapKey.set(r,t);let r={};return t.forEach((t,n)=>r[safeKey(this._mapKey.has(n)?this._mapKey.get(n):n)]=t),r}mapDecode(t,r){let n=this.decode(t);return this._keyMap&&"Array"===n.constructor.name?n.map(t=>this.decodeKeys(t)):n}decode(t,r){if(a)return saveState(()=>(clearSource(),this?this.decode(t,r):decode_Decoder.prototype.decode.call(eh,t,r)));c=r>-1?r:t.length,er=0,es=0,el=0,d=null,eo=en,f=null,a=t;try{g=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){if(a=null,t instanceof Uint8Array)throw r;throw Error("Source must be a Uint8Array or Buffer but was a "+(t&&"object"==typeof t?t.constructor.name:typeof t))}return this instanceof decode_Decoder?(ea=this,y=this.sharedValues&&(this.pack?Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures?l=this.structures:(!l||l.length>0)&&(l=[])):(ea=eh,(!l||l.length>0)&&(l=[]),y=null),checkedRead()}decodeMultiple(t,r){let n,o=0;try{let a=t.length;ef=!0;let c=this?this.decode(t,a):eT.decode(t,a);if(r){if(!1===r(c))return;for(;er<a;)if(o=er,!1===r(checkedRead()))return}else{for(n=[c];er<a;)o=er,n.push(checkedRead());return n}}catch(t){throw t.lastPosition=o,t.values=n,t}finally{ef=!1,clearSource()}}};function checkedRead(){try{let t=read();if(f){if(er>=f.postBundlePosition){let t=Error("Unexpected bundle position");throw t.incomplete=!0,t}er=f.postBundlePosition,f=null}if(er==c)l=null,a=null,m&&(m=null);else if(er>c){let t=Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!ef)throw Error("Data read, but end of buffer not reached");return t}catch(t){throw clearSource(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function read(){let t=a[er++],r=t>>5;if((t&=31)>23)switch(t){case 24:t=a[er++];break;case 25:if(7==r)return function(){let t=a[er++],r=a[er++],n=(127&t)>>2;if(31===n)return r||3&t?NaN:128&t?-1/0:1/0;if(0===n){let n=((3&t)<<8|r)/16777216;return 128&t?-n:n}return ev[3]=128&t|(n>>1)+56,ev[2]=(7&t)<<5|r>>3,ev[1]=r<<5,ev[0]=0,eb[0]}();t=g.getUint16(er),er+=2;break;case 26:if(7==r){let t=g.getFloat32(er);if(ea.useFloat32>2){let r=eS[(127&a[er])<<1|a[er+1]>>7];return er+=4,(r*t+(t>0?.5:-.5)>>0)/r}return er+=4,t}t=g.getUint32(er),er+=4;break;case 27:if(7==r){let t=g.getFloat64(er);return er+=8,t}if(r>1){if(g.getUint32(er)>0)throw Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");t=g.getUint32(er+4)}else t=ea.int64AsNumber?4294967296*g.getUint32(er)+g.getUint32(er+4):g.getBigUint64(er);er+=8;break;case 31:switch(r){case 2:case 3:throw Error("Indefinite length not supported for byte or text strings");case 4:let n=[],o,m=0;for(;(o=read())!=ei;)n[m++]=o;return 4==r?n:3==r?n.join(""):et.concat(n);case 5:let _;if(ea.mapsAsObjects){let t={};if(ea.keyMap)for(;(_=read())!=ei;)t[safeKey(ea.decodeKey(_))]=read();else for(;(_=read())!=ei;)t[safeKey(_)]=read();return t}{b&&(ea.mapsAsObjects=!0,b=!1);let t=new Map;if(ea.keyMap)for(;(_=read())!=ei;)t.set(ea.decodeKey(_),read());else for(;(_=read())!=ei;)t.set(_,read());return t}case 7:return ei;default:throw Error("Invalid major type for indefinite length "+r)}default:throw Error("Unknown token "+t)}switch(r){case 0:return t;case 1:return~t;case 2:var w;return w=t,ea.copyBuffers?Uint8Array.prototype.slice.call(a,er,er+=w):a.subarray(er,er+=w);case 3:if(el>=er)return d.slice(er-ec,(er+=t)-ec);if(0==el&&c<140&&t<32){let r=t<16?shortStringInJS(t):function(t){let r=er,n=Array(t);for(let o=0;o<t;o++){let t=a[er++];if((128&t)>0){er=r;return}n[o]=t}return eg.apply(String,n)}(t);if(null!=r)return r}return ey(t);case 4:let S=Array(t);for(let r=0;r<t;r++)S[r]=read();return S;case 5:if(ea.mapsAsObjects){let r={};if(ea.keyMap)for(let n=0;n<t;n++)r[safeKey(ea.decodeKey(read()))]=read();else for(let n=0;n<t;n++)r[safeKey(read())]=read();return r}{b&&(ea.mapsAsObjects=!0,b=!1);let r=new Map;if(ea.keyMap)for(let n=0;n<t;n++)r.set(ea.decodeKey(read()),read());else for(let n=0;n<t;n++)r.set(read(),read());return r}case 6:if(t>=57337){let r=l[8191&t];if(r)return r.read||(r.read=createStructureReader(r)),r.read();if(t<65536){if(57343==t){let t=readJustLength(),r=read(),n=read();recordDefinition(r,n);let o={};if(ea.keyMap)for(let r=2;r<t;r++)o[safeKey(ea.decodeKey(n[r-2]))]=read();else for(let r=2;r<t;r++)o[safeKey(n[r-2])]=read();return o}if(57342==t){let t=readJustLength(),r=read();for(let n=2;n<t;n++)recordDefinition(r++,read());return read()}if(57337==t)return function(){let t=readJustLength(),r=er+read();for(let r=2;r<t;r++){let t=readJustLength();er+=t}let n=er;return er=r,(f=[readStringJS(readJustLength()),readStringJS(readJustLength())]).position0=0,f.position1=0,f.postBundlePosition=er,er=n,read()}();if(ea.getShared&&(loadShared(),r=l[8191&t]))return r.read||(r.read=createStructureReader(r)),r.read()}}let T=eu[t];if(T){if(T.handlesRead)return T(read);return T(read())}{let r=read();for(let n=0;n<ed.length;n++){let o=ed[n](t,r);if(void 0!==o)return o}return new Tag(r,t)}case 7:switch(t){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:let E=(y||getPackedValues())[t];if(void 0!==E)return E;throw Error("Unknown token "+t)}default:if(isNaN(t)){let t=Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}throw Error("Unknown CBOR token "+t)}}let em=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(t){return t.slowReads=0,function(){let t=a[er++];if((t&=31)>23)switch(t){case 24:t=a[er++];break;case 25:t=g.getUint16(er),er+=2;break;case 26:t=g.getUint32(er),er+=4;break;default:throw Error("Expected array header, but got "+a[er-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===t)return r(read);r=r.next}if(this.slowReads++>=ep){let n=this.length==t?this:this.slice(0,t);return r=ea.keyMap?Function("r","return {"+n.map(t=>ea.decodeKey(t)).map(t=>em.test(t)?safeKey(t)+":r()":"["+JSON.stringify(t)+"]:r()").join(",")+"}"):Function("r","return {"+n.map(t=>em.test(t)?safeKey(t)+":r()":"["+JSON.stringify(t)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=t,this.compiledReader=r,r(read)}let n={};if(ea.keyMap)for(let r=0;r<t;r++)n[safeKey(ea.decodeKey(this[r]))]=read();else for(let r=0;r<t;r++)n[safeKey(this[r])]=read();return n}}function safeKey(t){return"__proto__"===t?"__proto_":t}let ey=readStringJS;function readStringJS(t){let r;if(t<16&&(r=shortStringInJS(t)))return r;if(t>64&&o)return o.decode(a.subarray(er,er+=t));let n=er+t,c=[];for(r="";er<n;){let t=a[er++];if((128&t)==0)c.push(t);else if((224&t)==192){let r=63&a[er++];c.push((31&t)<<6|r)}else if((240&t)==224){let r=63&a[er++],n=63&a[er++];c.push((31&t)<<12|r<<6|n)}else if((248&t)==240){let r=63&a[er++],n=63&a[er++],o=63&a[er++],l=(7&t)<<18|r<<12|n<<6|o;l>65535&&(l-=65536,c.push(l>>>10&1023|55296),l=56320|1023&l),c.push(l)}else c.push(t);c.length>=4096&&(r+=eg.apply(String,c),c.length=0)}return c.length>0&&(r+=eg.apply(String,c)),r}let eg=String.fromCharCode;function shortStringInJS(t){if(t<4){if(t<2){if(0===t)return"";{let t=a[er++];if((128&t)>1){er-=1;return}return eg(t)}}{let r=a[er++],n=a[er++];if((128&r)>0||(128&n)>0){er-=2;return}if(t<3)return eg(r,n);let o=a[er++];if((128&o)>0){er-=3;return}return eg(r,n,o)}}{let r=a[er++],n=a[er++],o=a[er++],c=a[er++];if((128&r)>0||(128&n)>0||(128&o)>0||(128&c)>0){er-=4;return}if(t<6){if(4===t)return eg(r,n,o,c);{let t=a[er++];if((128&t)>0){er-=5;return}return eg(r,n,o,c,t)}}if(t<8){let l=a[er++],d=a[er++];if((128&l)>0||(128&d)>0){er-=6;return}if(t<7)return eg(r,n,o,c,l,d);let f=a[er++];if((128&f)>0){er-=7;return}return eg(r,n,o,c,l,d,f)}{let l=a[er++],d=a[er++],f=a[er++],m=a[er++];if((128&l)>0||(128&d)>0||(128&f)>0||(128&m)>0){er-=8;return}if(t<10){if(8===t)return eg(r,n,o,c,l,d,f,m);{let t=a[er++];if((128&t)>0){er-=9;return}return eg(r,n,o,c,l,d,f,m,t)}}if(t<12){let y=a[er++],g=a[er++];if((128&y)>0||(128&g)>0){er-=10;return}if(t<11)return eg(r,n,o,c,l,d,f,m,y,g);let b=a[er++];if((128&b)>0){er-=11;return}return eg(r,n,o,c,l,d,f,m,y,g,b)}{let y=a[er++],g=a[er++],b=a[er++],_=a[er++];if((128&y)>0||(128&g)>0||(128&b)>0||(128&_)>0){er-=12;return}if(t<14){if(12===t)return eg(r,n,o,c,l,d,f,m,y,g,b,_);{let t=a[er++];if((128&t)>0){er-=13;return}return eg(r,n,o,c,l,d,f,m,y,g,b,_,t)}}{let w=a[er++],S=a[er++];if((128&w)>0||(128&S)>0){er-=14;return}if(t<15)return eg(r,n,o,c,l,d,f,m,y,g,b,_,w,S);let T=a[er++];if((128&T)>0){er-=15;return}return eg(r,n,o,c,l,d,f,m,y,g,b,_,w,S,T)}}}}}let eb=new Float32Array(1),ev=new Uint8Array(eb.buffer,0,4);let Tag=class Tag{constructor(t,r){this.value=t,this.tag=r}};eu[0]=t=>new Date(t),eu[1]=t=>new Date(Math.round(1e3*t)),eu[2]=t=>{let r=BigInt(0);for(let n=0,o=t.byteLength;n<o;n++)r=BigInt(t[n])+r<<BigInt(8);return r},eu[3]=t=>BigInt(-1)-eu[2](t),eu[4]=t=>+(t[1]+"e"+t[0]),eu[5]=t=>t[1]*Math.exp(t[0]*Math.log(2));let recordDefinition=(t,r)=>{let n=l[t-=57344];n&&n.isShared&&((l.restoreStructures||(l.restoreStructures=[]))[t]=n),l[t]=r,r.read=createStructureReader(r)};eu[105]=t=>{let r=t.length,n=t[1];recordDefinition(t[0],n);let o={};for(let a=2;a<r;a++)o[safeKey(n[a-2])]=t[a];return o},eu[14]=t=>f?f[0].slice(f.position0,f.position0+=t):new Tag(t,14),eu[15]=t=>f?f[1].slice(f.position1,f.position1+=t):new Tag(t,15);let e_={Error,RegExp};eu[27]=t=>(e_[t[0]]||Error)(t[1],t[2]);let packedTable=t=>{if(132!=a[er++])throw Error("Packed values structure must be followed by a 4 element array");let r=t();return(y=y?r.concat(y.slice(r.length)):r).prefixes=t(),y.suffixes=t(),t()};function combine(t,r){return"string"==typeof t?t+r:t instanceof Array?t.concat(r):Object.assign({},t,r)}function getPackedValues(){if(!y){if(ea.getShared)loadShared();else throw Error("No packed values available")}return y}packedTable.handlesRead=!0,eu[51]=packedTable,eu[6]=t=>{if(!y){if(!ea.getShared)return new Tag(t,6);loadShared()}if("number"==typeof t)return y[16+(t>=0?2*t:-2*t-1)];throw Error("No support for non-integer packed references yet")},eu[28]=t=>{let r;m||((m=new Map).id=0);let n=m.id++,o={target:r=a[er]>>5==4?[]:{}};m.set(n,o);let c=t();return o.used?Object.assign(r,c):(o.target=c,c)},eu[28].handlesRead=!0,eu[29]=t=>{let r=m.get(t);return r.used=!0,r.target},eu[258]=t=>new Set(t),(eu[259]=t=>(ea.mapsAsObjects&&(ea.mapsAsObjects=!1,b=!0),t())).handlesRead=!0,ed.push((t,r)=>t>=225&&t<=255?combine(getPackedValues().prefixes[t-224],r):t>=28704&&t<=32767?combine(getPackedValues().prefixes[t-28672],r):t>=1879052288&&t<=2147483647?combine(getPackedValues().prefixes[t-1879048192],r):t>=216&&t<=223?combine(r,getPackedValues().suffixes[t-216]):t>=27647&&t<=28671?combine(r,getPackedValues().suffixes[t-27639]):t>=1811940352&&t<=1879048191?combine(r,getPackedValues().suffixes[t-1811939328]):1399353956==t?{packedValues:y,structures:l.slice(0),version:r}:55799==t?r:void 0);let eC=1==new Uint8Array(new Uint16Array([1]).buffer)[0],ek=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],ew=[64,68,69,70,71,72,77,78,79,85,86];for(let t=0;t<ek.length;t++)!function(t,r){let n,o="get"+t.name.slice(0,-5);"function"==typeof t?n=t.BYTES_PER_ELEMENT:t=null;for(let a=0;a<2;a++){if(!a&&1==n)continue;let c=2==n?1:4==n?2:3;eu[a?r:r-4]=1==n||a==eC?n=>{if(!t)throw Error("Could not find typed array for code "+r);return new t(Uint8Array.prototype.slice.call(n,0).buffer)}:n=>{if(!t)throw Error("Could not find typed array for code "+r);let l=new DataView(n.buffer,n.byteOffset,n.byteLength),d=n.length>>c,f=new t(d),m=l[o];for(let t=0;t<d;t++)f[t]=m.call(l,t<<c,a);return f}}}(ek[t],ew[t]);function readJustLength(){let t=31&a[er++];if(t>23)switch(t){case 24:t=a[er++];break;case 25:t=g.getUint16(er),er+=2;break;case 26:t=g.getUint32(er),er+=4}return t}function loadShared(){if(ea.getShared){let t=saveState(()=>(a=null,ea.getShared()))||{},r=t.structures||[];ea.sharedVersion=t.version,y=ea.sharedValues=t.packedValues,!0===l?ea.structures=l=r:l.splice.apply(l,[0,r.length].concat(r))}}function saveState(t){let r=c,n=er,o=es,y=ec,b=el,_=d,w=eo,S=m,T=f,E=new Uint8Array(a.slice(0,c)),P=l,O=ea,R=ef,x=t();return c=r,er=n,es=o,ec=y,el=b,d=_,eo=w,m=S,f=T,a=E,ef=R,l=P,ea=O,g=new DataView(a.buffer,a.byteOffset,a.byteLength),x}function clearSource(){a=null,m=null,l=null}let eS=Array(147);for(let t=0;t<256;t++)eS[t]=+("1e"+Math.floor(45.15-.30103*t));let eT=new decode_Decoder({useRecords:!1});eT.decode,eT.decodeMultiple;try{_=new TextEncoder}catch(t){}let eE="object"==typeof globalThis&&globalThis.Buffer,eP=void 0!==eE,eO=eP?eE.allocUnsafeSlow:Uint8Array,eR=eP?eE:Uint8Array,ex=eP?4294967296:2144337920,eB=0,eA=null,ej=/[\u0080-\uFFFF]/,eI=Symbol("record-id");function writeEntityLength(t,r){t<24?E[eB++]=r|t:t<256?(E[eB++]=24|r,E[eB++]=t):t<65536?(E[eB++]=25|r,E[eB++]=t>>8,E[eB++]=255&t):(E[eB++]=26|r,P.setUint32(eB,t),eB+=4)}let SharedData=class SharedData{constructor(t,r,n){this.structures=t,this.packedValues=r,this.version=n}};function writeArrayHeader(t){t<24?E[eB++]=128|t:t<256?(E[eB++]=152,E[eB++]=t):t<65536?(E[eB++]=153,E[eB++]=t>>8,E[eB++]=255&t):(E[eB++]=154,P.setUint32(eB,t),eB+=4)}let eM="undefined"==typeof Blob?function(){}:Blob;function isBlob(t){if(t instanceof eM)return!0;let r=t[Symbol.toStringTag];return"Blob"===r||"File"===r}let e$=1==new Uint8Array(new Uint16Array([1]).buffer)[0];function typedArrayEncoder(t,r){return!e$&&r>1&&(t-=4),{tag:t,encode:function(t,r){let n=t.byteLength,o=t.byteOffset||0,a=t.buffer||t;r(eP?eE.from(a,o,n):new Uint8Array(a,o,n))}}}function writeBuffer(t,r){let n=t.byteLength;n<24?E[eB++]=64+n:n<256?(E[eB++]=88,E[eB++]=n):n<65536?(E[eB++]=89,E[eB++]=n>>8,E[eB++]=255&n):(E[eB++]=90,P.setUint32(eB,n),eB+=4),eB+n>=E.length&&r(eB+n),E.set(t.buffer?t:new Uint8Array(t),eB),eB+=n}function writeBundles(t,r){P.setUint32(eA.position+t,eB-eA.position-t+1);let n=eA;eA=null,r(n[0]),r(n[1])}S=[Date,Set,Error,RegExp,Tag,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?function(){}:BigInt64Array,Float32Array,Float64Array,SharedData],w=[{tag:1,encode(t,r){let n=t.getTime()/1e3;(this.useTimestamp32||0===t.getMilliseconds())&&n>=0&&n<4294967296?(E[eB++]=26,P.setUint32(eB,n),eB+=4):(E[eB++]=251,P.setFloat64(eB,n),eB+=8)}},{tag:258,encode(t,r){r(Array.from(t))}},{tag:27,encode(t,r){r([t.name,t.message])}},{tag:27,encode(t,r){r(["RegExp",t.source,t.flags])}},{getTag:t=>t.tag,encode(t,r){r(t.value)}},{encode(t,r,n){writeBuffer(t,n)}},{getTag(t){if(t.constructor===Uint8Array&&(this.tagUint8Array||eP&&!1!==this.tagUint8Array))return 64},encode(t,r,n){writeBuffer(t,n)}},typedArrayEncoder(68,1),typedArrayEncoder(69,2),typedArrayEncoder(70,4),typedArrayEncoder(71,8),typedArrayEncoder(72,1),typedArrayEncoder(77,2),typedArrayEncoder(78,4),typedArrayEncoder(79,8),typedArrayEncoder(85,4),typedArrayEncoder(86,8),{encode(t,r){let n=t.packedValues||[],o=t.structures||[];if(n.values.length>0){E[eB++]=216,E[eB++]=51,writeArrayHeader(4);let t=n.values;r(t),writeArrayHeader(0),writeArrayHeader(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let r=0,n=t.length;r<n;r++)packedObjectMap[t[r]]=r}if(o){P.setUint32(eB,3655335424),eB+=3;let n=o.slice(0);n.unshift(57344),n.push(new Tag(t.version,1399353956)),r(n)}else r(new Tag(t.version,1399353956))}}];let eD=new class extends decode_Decoder{constructor(t){let r,n,o,a,c,l;super(t),this.offset=0,t=t||{};let d=eR.prototype.utf8Write?function(t,r,n){return E.utf8Write(t,r,n)}:!!_&&!!_.encodeInto&&function(t,r){return _.encodeInto(t,E.subarray(r)).written},f=this,m=t.structures||t.saveStructures,y=t.maxSharedStructures;if(null==y&&(y=m?128:0),y>8190)throw Error("Maximum maxSharedStructure is 8190");let g=t.sequential;g&&(y=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let b,R,x=t.sharedValues;if(x){l=Object.create(null);for(let t=0,r=x.length;t<r;t++)l[x[t]]=t}let B=[],A=0,j=0;this.mapEncode=function(t,r){return this._keyMap&&!this._mapped&&"Array"===t.constructor.name&&(t=t.map(t=>this.encodeKeys(t))),this.encode(t,r)},this.encode=function(d,m){if(E||(E=new eO(8192),P=new DataView(E.buffer,0,8192),eB=0),(O=E.length-10)-eB<2048?(E=new eO(E.length),P=new DataView(E.buffer,0,E.length),O=E.length-10,eB=0):m===ez&&(eB=eB+7&2147483640),r=eB,f.useSelfDescribedHeader&&(P.setUint32(eB,3654940416),eB+=3),c=f.structuredClone?new Map:null,f.bundleStrings&&"string"!=typeof d?(eA=[]).size=1/0:eA=null,n=f.structures){if(n.uninitialized){let t=f.getShared()||{};f.structures=n=t.structures||[],f.sharedVersion=t.version;let r=f.sharedValues=t.packedValues;if(r){l={};for(let t=0,n=r.length;t<n;t++)l[r[t]]=t}}let t=n.length;if(t>y&&!g&&(t=y),!n.transitions){n.transitions=Object.create(null);for(let r=0;r<t;r++){let t=n[r];if(!t)continue;let o,a=n.transitions;for(let n=0,c=t.length;n<c;n++){void 0===a[eI]&&(a[eI]=r);let c=t[n];(o=a[c])||(o=a[c]=Object.create(null)),a=o}a[eI]=1048576|r}}g||(n.nextId=t)}if(o&&(o=!1),a=n||[],R=l,t.pack){let r=new Map;if(r.values=[],r.encoder=f,r.maxValues=t.maxPrivatePackedValues||(l?16:1/0),r.objectMap=l||!1,r.samplingPackedValues=b,function findRepetitiveStrings(t,r){switch(typeof t){case"string":if(t.length>3){if(r.objectMap[t]>-1||r.values.length>=r.maxValues)return;let n=r.get(t);if(n)2==++n.count&&r.values.push(t);else if(r.set(t,{count:1}),r.samplingPackedValues){let n=r.samplingPackedValues.get(t);n?n.count++:r.samplingPackedValues.set(t,{count:1})}}break;case"object":if(t){if(t instanceof Array)for(let n=0,o=t.length;n<o;n++)findRepetitiveStrings(t[n],r);else{let o=!r.encoder.useRecords;for(var n in t)t.hasOwnProperty(n)&&(o&&findRepetitiveStrings(n,r),findRepetitiveStrings(t[n],r))}}break;case"function":console.log(t)}}(d,r),r.values.length>0){E[eB++]=216,E[eB++]=51,writeArrayHeader(4);let t=r.values;encode(t),writeArrayHeader(0),writeArrayHeader(0),R=Object.create(l||null);for(let r=0,n=t.length;r<n;r++)R[t[r]]=r}}T=m&eq;try{if(T)return;if(encode(d),eA&&writeBundles(r,encode),f.offset=eB,c&&c.idsToInsert){(eB+=2*c.idsToInsert.length)>O&&makeRoom(eB),f.offset=eB;let t=function(t,r){let n;let o=2*r.length,a=t.length-o;r.sort((t,r)=>t.offset>r.offset?1:-1);for(let n=0;n<r.length;n++){let o=r[n];for(let r of(o.id=n,o.references))t[r++]=n>>8,t[r]=255&n}for(;n=r.pop();){let r=n.offset;t.copyWithin(r+o,r,a);let c=r+(o-=2);t[c++]=216,t[c++]=28,a=r}return t}(E.subarray(r,eB),c.idsToInsert);return c=null,t}if(m&ez)return E.start=r,E.end=eB,E;return E.subarray(r,eB)}finally{if(n){if(j<10&&j++,n.length>y&&(n.length=y),A>1e4)n.transitions=null,j=0,A=0,B.length>0&&(B=[]);else if(B.length>0&&!g){for(let t=0,r=B.length;t<r;t++)B[t][eI]=void 0;B=[]}}if(o&&f.saveShared){f.structures.length>y&&(f.structures=f.structures.slice(0,y));let t=E.subarray(r,eB);if(!1===f.updateSharedData())return f.encode(d);return t}m&eV&&(eB=r)}},this.findCommonStringsToPack=()=>(b=new Map,l||(l=Object.create(null)),t=>{let r=t&&t.threshold||4,n=this.pack?t.maxPrivatePackedValues||16:0;for(let[t,a]of(x||(x=this.sharedValues=[]),b))a.count>r&&(l[t]=n++,x.push(t),o=!0);for(;this.saveShared&&!1===this.updateSharedData(););b=null});let encode=n=>{eB>O&&(E=makeRoom(eB));var o,a=typeof n;if("string"===a){let a;if(R){let r=R[n];if(r>=0){r<16?E[eB++]=r+224:(E[eB++]=198,1&r?encode(15-r>>1):encode(r-16>>1));return}if(b&&!t.pack){let t=b.get(n);t?t.count++:b.set(n,{count:1})}}let c=n.length;if(eA&&c>=4&&c<1024){if((eA.size+=c)>61440){let t;let n=(eA[0]?3*eA[0].length+eA[1].length:0)+10;eB+n>O&&(E=makeRoom(eB+n)),E[eB++]=217,E[eB++]=223,E[eB++]=249,E[eB++]=eA.position?132:130,E[eB++]=26,t=eB-r,eB+=4,eA.position&&writeBundles(r,encode),(eA=["",""]).size=0,eA.position=t}let t=ej.test(n);eA[t?0:1]+=n,E[eB++]=t?206:207,encode(c);return}a=c<32?1:c<256?2:c<65536?3:5;let l=3*c;if(eB+l>O&&(E=makeRoom(eB+l)),c<64||!d){let t,r,l,d=eB+a;for(t=0;t<c;t++)(r=n.charCodeAt(t))<128?E[d++]=r:(r<2048?E[d++]=r>>6|192:((64512&r)==55296&&(64512&(l=n.charCodeAt(t+1)))==56320?(r=65536+((1023&r)<<10)+(1023&l),t++,E[d++]=r>>18|240,E[d++]=r>>12&63|128):E[d++]=r>>12|224,E[d++]=r>>6&63|128),E[d++]=63&r|128);o=d-eB-a}else o=d(n,eB+a,l);o<24?E[eB++]=96|o:o<256?(a<2&&E.copyWithin(eB+2,eB+1,eB+1+o),E[eB++]=120,E[eB++]=o):o<65536?(a<3&&E.copyWithin(eB+3,eB+2,eB+2+o),E[eB++]=121,E[eB++]=o>>8,E[eB++]=255&o):(a<5&&E.copyWithin(eB+5,eB+3,eB+3+o),E[eB++]=122,P.setUint32(eB,o),eB+=4),eB+=o}else if("number"===a){if(this.alwaysUseFloat||n>>>0!==n){if(this.alwaysUseFloat||n>>0!==n){let t;if((t=this.useFloat32)>0&&n<4294967296&&n>=-2147483648){let r;if(E[eB++]=250,P.setFloat32(eB,n),t<4||(r=n*eS[(127&E[eB])<<1|E[eB+1]>>7])>>0===r){eB+=4;return}eB--}E[eB++]=251,P.setFloat64(eB,n),eB+=8}else n>=-24?E[eB++]=31-n:n>=-256?(E[eB++]=56,E[eB++]=~n):n>=-65536?(E[eB++]=57,P.setUint16(eB,~n),eB+=2):(E[eB++]=58,P.setUint32(eB,~n),eB+=4)}else n<24?E[eB++]=n:n<256?(E[eB++]=24,E[eB++]=n):n<65536?(E[eB++]=25,E[eB++]=n>>8,E[eB++]=255&n):(E[eB++]=26,P.setUint32(eB,n),eB+=4)}else if("object"===a){if(n){if(c){let t=c.get(n);if(t){if(E[eB++]=216,E[eB++]=29,E[eB++]=25,!t.references){let r=c.idsToInsert||(c.idsToInsert=[]);t.references=[],r.push(t)}t.references.push(eB-r),eB+=2;return}c.set(n,{offset:eB-r})}let t=n.constructor;if(t===Object)I(n,!0);else if(t===Array){(o=n.length)<24?E[eB++]=128|o:writeArrayHeader(o);for(let t=0;t<o;t++)encode(n[t])}else if(t===Map){if((this.mapsAsObjects?!1!==this.useTag259ForMaps:this.useTag259ForMaps)&&(E[eB++]=217,E[eB++]=1,E[eB++]=3),(o=n.size)<24?E[eB++]=160|o:o<256?(E[eB++]=184,E[eB++]=o):o<65536?(E[eB++]=185,E[eB++]=o>>8,E[eB++]=255&o):(E[eB++]=186,P.setUint32(eB,o),eB+=4),f.keyMap)for(let[t,r]of n)encode(f.encodeKey(t)),encode(r);else for(let[t,r]of n)encode(t),encode(r)}else{for(let t=0,r=w.length;t<r;t++)if(n instanceof S[t]){let r=w[t],o=r.tag;void 0==o&&(o=r.getTag&&r.getTag.call(this,n)),o<24?E[eB++]=192|o:o<256?(E[eB++]=216,E[eB++]=o):o<65536?(E[eB++]=217,E[eB++]=o>>8,E[eB++]=255&o):o>-1&&(E[eB++]=218,P.setUint32(eB,o),eB+=4),r.encode.call(this,n,encode,makeRoom);return}if(n[Symbol.iterator]){if(T){let t=Error("Iterable should be serialized as iterator");throw t.iteratorNotHandled=!0,t}for(let t of(E[eB++]=159,n))encode(t);E[eB++]=255;return}if(n[Symbol.asyncIterator]||isBlob(n)){let t=Error("Iterable/blob should be serialized as iterator");throw t.iteratorNotHandled=!0,t}if(this.useToJSON&&n.toJSON){let t=n.toJSON();if(t!==n)return encode(t)}I(n,!n.hasOwnProperty)}}else E[eB++]=246}else if("boolean"===a)E[eB++]=n?245:244;else if("bigint"===a){if(n<BigInt(1)<<BigInt(64)&&n>=0)E[eB++]=27,P.setBigUint64(eB,n);else if(n>-(BigInt(1)<<BigInt(64))&&n<0)E[eB++]=59,P.setBigUint64(eB,-n-BigInt(1));else if(this.largeBigIntToFloat)E[eB++]=251,P.setFloat64(eB,Number(n));else throw RangeError(n+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");eB+=8}else if("undefined"===a)E[eB++]=247;else throw Error("Unknown type: "+a)},I=!1===this.useRecords?this.variableMapSize?t=>{let r=Object.keys(t),n=Object.values(t),o=r.length;if(o<24?E[eB++]=160|o:o<256?(E[eB++]=184,E[eB++]=o):o<65536?(E[eB++]=185,E[eB++]=o>>8,E[eB++]=255&o):(E[eB++]=186,P.setUint32(eB,o),eB+=4),f.keyMap)for(let t=0;t<o;t++)encode(f.encodeKey(r[t])),encode(n[t]);else for(let t=0;t<o;t++)encode(r[t]),encode(n[t])}:(t,n)=>{E[eB++]=185;let o=eB-r;eB+=2;let a=0;if(f.keyMap)for(let r in t)(n||t.hasOwnProperty(r))&&(encode(f.encodeKey(r)),encode(t[r]),a++);else for(let r in t)(n||t.hasOwnProperty(r))&&(encode(r),encode(t[r]),a++);E[o+++r]=a>>8,E[o+r]=255&a}:(t,r)=>{let n,c,l,d=a.transitions||(a.transitions=Object.create(null)),f=0,m=0;if(this.keyMap){m=(c=Object.keys(t).map(t=>this.encodeKey(t))).length;for(let t=0;t<m;t++){let r=c[t];!(l=d[r])&&(l=d[r]=Object.create(null),f++),d=l}}else for(let o in t)(r||t.hasOwnProperty(o))&&(!(l=d[o])&&(1048576&d[eI]&&(n=65535&d[eI]),l=d[o]=Object.create(null),f++),d=l,m++);let g=d[eI];if(void 0!==g)g&=65535,E[eB++]=217,E[eB++]=g>>8|224,E[eB++]=255&g;else if(c||(c=d.__keys__||(d.__keys__=Object.keys(t))),void 0===n?((g=a.nextId++)||(g=0,a.nextId=1),g>=256&&(a.nextId=(g=y)+1)):g=n,a[g]=c,g<y){E[eB++]=217,E[eB++]=g>>8|224,E[eB++]=255&g,d=a.transitions;for(let t=0;t<m;t++)(void 0===d[eI]||1048576&d[eI])&&(d[eI]=g),d=d[c[t]];d[eI]=1048576|g,o=!0}else{if(d[eI]=g,P.setUint32(eB,3655335680),eB+=3,f&&(A+=j*f),B.length>=256-y&&(B.shift()[eI]=void 0),B.push(d),writeArrayHeader(m+2),encode(57344+g),encode(c),null===r)return;for(let n in t)(r||t.hasOwnProperty(n))&&encode(t[n]);return}if(m<24?E[eB++]=128|m:writeArrayHeader(m),null!==r)for(let n in t)(r||t.hasOwnProperty(n))&&encode(t[n])},makeRoom=t=>{let n;if(t>16777216){if(t-r>ex)throw Error("Encoded buffer would be larger than maximum buffer size");n=Math.min(ex,4096*Math.round(Math.max((t-r)*(t>67108864?1.25:2),4194304)/4096))}else n=(Math.max(t-r<<2,E.length-1)>>12)+1<<12;let o=new eO(n);return P=new DataView(o.buffer,0,n),E.copy?E.copy(o,0,r,t):o.set(E.slice(r,t)),eB-=r,r=0,O=o.length-10,E=o},M=100,$=1e3;function*encodeObjectAsIterable(t,n,o){let a=t.constructor;if(a===Object){let r=!1!==f.useRecords;for(let o in r?I(t,null):writeEntityLength(Object.keys(t).length,160),t){let a=t[o];r||encode(o),a&&"object"==typeof a?n[o]?yield*encodeObjectAsIterable(a,n[o]):yield*tryEncode(a,n,o):encode(a)}}else if(a===Array){let o=t.length;writeArrayHeader(o);for(let a=0;a<o;a++){let o=t[a];o&&("object"==typeof o||eB-r>M)?n.element?yield*encodeObjectAsIterable(o,n.element):yield*tryEncode(o,n,"element"):encode(o)}}else if(t[Symbol.iterator]){for(let o of(E[eB++]=159,t))o&&("object"==typeof o||eB-r>M)?n.element?yield*encodeObjectAsIterable(o,n.element):yield*tryEncode(o,n,"element"):encode(o);E[eB++]=255}else isBlob(t)?(writeEntityLength(t.size,64),yield E.subarray(r,eB),yield t,restartEncoding()):t[Symbol.asyncIterator]?(E[eB++]=159,yield E.subarray(r,eB),yield t,restartEncoding(),E[eB++]=255):encode(t);o&&eB>r?yield E.subarray(r,eB):eB-r>M&&(yield E.subarray(r,eB),restartEncoding())}function*tryEncode(t,n,o){let a=eB-r;try{encode(t),eB-r>M&&(yield E.subarray(r,eB),restartEncoding())}catch(c){if(c.iteratorNotHandled)n[o]={},eB=r+a,yield*encodeObjectAsIterable.call(this,t,n[o]);else throw c}}function restartEncoding(){M=$,f.encode(null,eq)}function startEncoding(t,r,n){return(M=r&&r.chunkThreshold?$=r.chunkThreshold:100,t&&"object"==typeof t)?(f.encode(null,eq),n(t,f.iterateProperties||(f.iterateProperties={}),!0)):[f.encode(t)]}async function*encodeObjectAsAsyncIterable(t,r){for(let n of encodeObjectAsIterable(t,r,!0)){let t=n.constructor;if(t===eR||t===Uint8Array)yield n;else if(isBlob(n)){let t,r=n.stream().getReader();for(;!(t=await r.read()).done;)yield t.value}else if(n[Symbol.asyncIterator])for await(let t of n)restartEncoding(),t?yield*encodeObjectAsAsyncIterable(t,r.async||(r.async={})):yield f.encode(t);else yield n}}this.encodeAsIterable=function(t,r){return startEncoding(t,r,encodeObjectAsIterable)},this.encodeAsAsyncIterable=function(t,r){return startEncoding(t,r,encodeObjectAsAsyncIterable)}}useBuffer(t){E=t,P=new DataView(E.buffer,E.byteOffset,E.byteLength),eB=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let t=this.sharedVersion||0;this.sharedVersion=t+1;let r=this.structures.slice(0),n=new SharedData(r,this.sharedValues,this.sharedVersion),o=this.saveShared(n,r=>(r&&r.version||0)==t);return!1===o?(n=this.getShared()||{},this.structures=n.structures||[],this.sharedValues=n.packedValues,this.sharedVersion=n.version,this.structures.nextId=this.structures.length):r.forEach((t,r)=>this.structures[r]=t),o}}({useRecords:!1});eD.encode,eD.encodeAsIterable,eD.encodeAsAsyncIterable;let{NEVER:eL,ALWAYS:eU,DECIMAL_ROUND:eN,DECIMAL_FIT:eF}={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},ez=512,eV=1024,eq=2048;function $parcel$export(t,r,n,o){Object.defineProperty(t,r,{get:n,set:o,enumerable:!0,configurable:!0})}n(67133).lW;let $fcbcc7538a6776d5$export$f1c5f4c9cb95390b=class $fcbcc7538a6776d5$export$f1c5f4c9cb95390b{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{let r=[],n=t.byteLength,o=Math.ceil(n/this.chunkedMTU),a=0,c=0;for(;c<n;){let l=Math.min(n,c+this.chunkedMTU),d=t.slice(c,l),f={__peerData:this._dataCount,n:a,data:d,total:o};r.push(f),c=l,a++}return this._dataCount++,r}}};let eW=ee.default||ee,eH=new class{isWebRTCSupported(){return"undefined"!=typeof RTCPeerConnection}isBrowserSupported(){let t=this.getBrowser(),r=this.getVersion(),n=this.supportedBrowsers.includes(t);return!!n&&("chrome"===t?r>=this.minChromeVersion:"firefox"===t?r>=this.minFirefoxVersion:"safari"===t&&!this.isIOS&&r>=this.minSafariVersion)}getBrowser(){return eW.browserDetails.browser}getVersion(){return eW.browserDetails.version||0}isUnifiedPlanSupported(){let t;let r=this.getBrowser(),n=eW.browserDetails.version||0;if("chrome"===r&&n<this.minChromeVersion)return!1;if("firefox"===r&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let o=!1;try{(t=new RTCPeerConnection).addTransceiver("audio"),o=!0}catch(t){}finally{t&&t.close()}return o}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},$9a84a32bf0bf36bb$export$f35f128fd59ea256=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),$0e5fd1585784c252$export$4e61f672936bec77=()=>Math.random().toString(36).slice(2),eJ={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},eK=new class extends $fcbcc7538a6776d5$export$f1c5f4c9cb95390b{noop(){}blobToArrayBuffer(t,r){let n=new FileReader;return n.onload=function(t){t.target&&r(t.target.result)},n.readAsArrayBuffer(t),n}binaryStringToArrayBuffer(t){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=255&t.charCodeAt(n);return r.buffer}isSecure(){return"https:"===location.protocol}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=eJ,this.browser=eH.getBrowser(),this.browserVersion=eH.getVersion(),this.pack=$0cfd7828ad59115f$export$2a703dbb0cb35339,this.unpack=$0cfd7828ad59115f$export$417857010dc9287f,this.supports=function(){let t;let r={browser:eH.isBrowserSupported(),webRTC:eH.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!r.webRTC)return r;try{let n;t=new RTCPeerConnection(eJ),r.audioVideo=!0;try{n=t.createDataChannel("_PEERJSTEST",{ordered:!0}),r.data=!0,r.reliable=!!n.ordered;try{n.binaryType="blob",r.binaryBlob=!eH.isIOS}catch(t){}}catch(t){}finally{n&&n.close()}}catch(t){}finally{t&&t.close()}return r}(),this.validateId=$9a84a32bf0bf36bb$export$f35f128fd59ea256,this.randomToken=$0e5fd1585784c252$export$4e61f672936bec77}};(R=D||(D={}))[R.Disabled=0]="Disabled",R[R.Errors=1]="Errors",R[R.Warnings=2]="Warnings",R[R.All=3]="All";var eG=new class{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=D.All&&this._print(D.All,...t)}warn(...t){this._logLevel>=D.Warnings&&this._print(D.Warnings,...t)}error(...t){this._logLevel>=D.Errors&&this._print(D.Errors,...t)}setLogFunction(t){this._print=t}_print(t,...r){let n=["PeerJS: ",...r];for(let t in n)n[t]instanceof Error&&(n[t]="("+n[t].name+") "+n[t].message);t>=D.All?console.log(...n):t>=D.Warnings?console.warn("WARNING",...n):t>=D.Errors&&console.error("ERROR",...n)}constructor(){this._logLevel=D.Disabled}},eY={},eX=Object.prototype.hasOwnProperty,eZ="~";function $c4dcfd1d1ea86647$var$Events(){}function $c4dcfd1d1ea86647$var$EE(t,r,n){this.fn=t,this.context=r,this.once=n||!1}function $c4dcfd1d1ea86647$var$addListener(t,r,n,o,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var c=new $c4dcfd1d1ea86647$var$EE(n,o||t,a),l=eZ?eZ+r:r;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],c]:t._events[l].push(c):(t._events[l]=c,t._eventsCount++),t}function $c4dcfd1d1ea86647$var$clearEvent(t,r){0==--t._eventsCount?t._events=new $c4dcfd1d1ea86647$var$Events:delete t._events[r]}function $c4dcfd1d1ea86647$var$EventEmitter(){this._events=new $c4dcfd1d1ea86647$var$Events,this._eventsCount=0}Object.create&&($c4dcfd1d1ea86647$var$Events.prototype=Object.create(null),new $c4dcfd1d1ea86647$var$Events().__proto__||(eZ=!1)),$c4dcfd1d1ea86647$var$EventEmitter.prototype.eventNames=function(){var t,r,n=[];if(0===this._eventsCount)return n;for(r in t=this._events)eX.call(t,r)&&n.push(eZ?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},$c4dcfd1d1ea86647$var$EventEmitter.prototype.listeners=function(t){var r=eZ?eZ+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,a=n.length,c=Array(a);o<a;o++)c[o]=n[o].fn;return c},$c4dcfd1d1ea86647$var$EventEmitter.prototype.listenerCount=function(t){var r=eZ?eZ+t:t,n=this._events[r];return n?n.fn?1:n.length:0},$c4dcfd1d1ea86647$var$EventEmitter.prototype.emit=function(t,r,n,o,a,c){var l=eZ?eZ+t:t;if(!this._events[l])return!1;var d,f,m=this._events[l],y=arguments.length;if(m.fn){switch(m.once&&this.removeListener(t,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,r),!0;case 3:return m.fn.call(m.context,r,n),!0;case 4:return m.fn.call(m.context,r,n,o),!0;case 5:return m.fn.call(m.context,r,n,o,a),!0;case 6:return m.fn.call(m.context,r,n,o,a,c),!0}for(f=1,d=Array(y-1);f<y;f++)d[f-1]=arguments[f];m.fn.apply(m.context,d)}else{var g,b=m.length;for(f=0;f<b;f++)switch(m[f].once&&this.removeListener(t,m[f].fn,void 0,!0),y){case 1:m[f].fn.call(m[f].context);break;case 2:m[f].fn.call(m[f].context,r);break;case 3:m[f].fn.call(m[f].context,r,n);break;case 4:m[f].fn.call(m[f].context,r,n,o);break;default:if(!d)for(g=1,d=Array(y-1);g<y;g++)d[g-1]=arguments[g];m[f].fn.apply(m[f].context,d)}}return!0},$c4dcfd1d1ea86647$var$EventEmitter.prototype.on=function(t,r,n){return $c4dcfd1d1ea86647$var$addListener(this,t,r,n,!1)},$c4dcfd1d1ea86647$var$EventEmitter.prototype.once=function(t,r,n){return $c4dcfd1d1ea86647$var$addListener(this,t,r,n,!0)},$c4dcfd1d1ea86647$var$EventEmitter.prototype.removeListener=function(t,r,n,o){var a=eZ?eZ+t:t;if(!this._events[a])return this;if(!r)return $c4dcfd1d1ea86647$var$clearEvent(this,a),this;var c=this._events[a];if(c.fn)c.fn!==r||o&&!c.once||n&&c.context!==n||$c4dcfd1d1ea86647$var$clearEvent(this,a);else{for(var l=0,d=[],f=c.length;l<f;l++)(c[l].fn!==r||o&&!c[l].once||n&&c[l].context!==n)&&d.push(c[l]);d.length?this._events[a]=1===d.length?d[0]:d:$c4dcfd1d1ea86647$var$clearEvent(this,a)}return this},$c4dcfd1d1ea86647$var$EventEmitter.prototype.removeAllListeners=function(t){var r;return t?(r=eZ?eZ+t:t,this._events[r]&&$c4dcfd1d1ea86647$var$clearEvent(this,r)):(this._events=new $c4dcfd1d1ea86647$var$Events,this._eventsCount=0),this},$c4dcfd1d1ea86647$var$EventEmitter.prototype.off=$c4dcfd1d1ea86647$var$EventEmitter.prototype.removeListener,$c4dcfd1d1ea86647$var$EventEmitter.prototype.addListener=$c4dcfd1d1ea86647$var$EventEmitter.prototype.on,$c4dcfd1d1ea86647$var$EventEmitter.prefixed=eZ,$c4dcfd1d1ea86647$var$EventEmitter.EventEmitter=$c4dcfd1d1ea86647$var$EventEmitter,eY=$c4dcfd1d1ea86647$var$EventEmitter;var eQ={};$parcel$export(eQ,"ConnectionType",()=>U),$parcel$export(eQ,"PeerErrorType",()=>N),$parcel$export(eQ,"BaseConnectionErrorType",()=>F),$parcel$export(eQ,"DataConnectionErrorType",()=>z),$parcel$export(eQ,"SerializationType",()=>V),$parcel$export(eQ,"SocketEventType",()=>q),$parcel$export(eQ,"ServerMessageType",()=>W),(x=U||(U={})).Data="data",x.Media="media",(B=N||(N={})).BrowserIncompatible="browser-incompatible",B.Disconnected="disconnected",B.InvalidID="invalid-id",B.InvalidKey="invalid-key",B.Network="network",B.PeerUnavailable="peer-unavailable",B.SslUnavailable="ssl-unavailable",B.ServerError="server-error",B.SocketError="socket-error",B.SocketClosed="socket-closed",B.UnavailableID="unavailable-id",B.WebRTC="webrtc",(A=F||(F={})).NegotiationFailed="negotiation-failed",A.ConnectionClosed="connection-closed",(j=z||(z={})).NotOpenYet="not-open-yet",j.MessageToBig="message-too-big",(I=V||(V={})).Binary="binary",I.BinaryUTF8="binary-utf8",I.JSON="json",I.None="raw",(M=q||(q={})).Message="message",M.Disconnected="disconnected",M.Error="error",M.Close="close",($=W||(W={})).Heartbeat="HEARTBEAT",$.Candidate="CANDIDATE",$.Offer="OFFER",$.Answer="ANSWER",$.Open="OPEN",$.Error="ERROR",$.IdTaken="ID-TAKEN",$.InvalidKey="INVALID-KEY",$.Leave="LEAVE",$.Expire="EXPIRE";var e0={};e0=JSON.parse('{"name":"peerjs","version":"1.5.1","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xfcckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-cbor":"dist/serializer.cbor.mjs","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-cbor":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/Cbor.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","cbor-x":"^1.5.3","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.0.0","webrtc-adapter":"^8.0.0"},"alias":{"process":false,"buffer":false}}');let $8f5bfa60836d261d$export$4798917dbf149b79=class $8f5bfa60836d261d$export$4798917dbf149b79 extends eY.EventEmitter{constructor(t,r,n,o,a,c=5e3){super(),this.pingInterval=c,this._disconnected=!0,this._messagesQueue=[],this._baseUrl=(t?"wss://":"ws://")+r+":"+n+o+"peerjs?key="+a}start(t,r){this._id=t;let n=`${this._baseUrl}&id=${t}&token=${r}`;!this._socket&&this._disconnected&&(this._socket=new WebSocket(n+"&version="+e0.version),this._disconnected=!1,this._socket.onmessage=t=>{let r;try{r=JSON.parse(t.data),eG.log("Server message received:",r)}catch(r){eG.log("Invalid server message",t.data);return}this.emit(q.Message,r)},this._socket.onclose=t=>{this._disconnected||(eG.log("Socket closed.",t),this._cleanup(),this._disconnected=!0,this.emit(q.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),eG.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){eG.log("Cannot send heartbeat, because socket closed");return}let t=JSON.stringify({type:W.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&1===this._socket.readyState}_sendQueuedMessages(){let t=[...this._messagesQueue];for(let r of(this._messagesQueue=[],t))this.send(r)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(q.Error,"Invalid message");return}if(!this._wsOpen())return;let r=JSON.stringify(t);this._socket.send(r)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}};let $b82fb8fc0514bfc1$export$89e6bb5ad64bf4a=class $b82fb8fc0514bfc1$export$89e6bb5ad64bf4a{constructor(t){this.connection=t}startConnection(t){let r=this._startPeerConnection();if(this.connection.peerConnection=r,this.connection.type===U.Media&&t._stream&&this._addTracksToConnection(t._stream,r),t.originator){let n=this.connection,o={ordered:!!t.reliable},a=r.createDataChannel(n.label,o);n._initializeDataChannel(a),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){eG.log("Creating RTCPeerConnection.");let t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){let r=this.connection.peer,n=this.connection.connectionId,o=this.connection.type,a=this.connection.provider;eG.log("Listening for ICE candidates."),t.onicecandidate=t=>{t.candidate&&t.candidate.candidate&&(eG.log(`Received ICE candidates for ${r}:`,t.candidate),a.socket.send({type:W.Candidate,payload:{candidate:t.candidate,type:o,connectionId:n},dst:r}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":eG.log("iceConnectionState is failed, closing connections to "+r),this.connection.emitError(F.NegotiationFailed,"Negotiation of connection to "+r+" failed."),this.connection.close();break;case"closed":eG.log("iceConnectionState is closed, closing connections to "+r),this.connection.emitError(F.ConnectionClosed,"Connection to "+r+" closed."),this.connection.close();break;case"disconnected":eG.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":t.onicecandidate=()=>{}}this.connection.emit("iceStateChanged",t.iceConnectionState)},eG.log("Listening for data channel"),t.ondatachannel=t=>{eG.log("Received data channel");let o=t.channel,c=a.getConnection(r,n);c._initializeDataChannel(o)},eG.log("Listening for remote stream"),t.ontrack=t=>{eG.log("Received remote stream");let o=t.streams[0],c=a.getConnection(r,n);c.type===U.Media&&this._addStreamToMediaConnection(o,c)}}cleanup(){eG.log("Cleaning up PeerConnection to "+this.connection.peer);let t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};let r="closed"!==t.signalingState,n=!1,o=this.connection.dataChannel;o&&(n=!!o.readyState&&"closed"!==o.readyState),(r||n)&&t.close()}async _makeOffer(){let t=this.connection.peerConnection,r=this.connection.provider;try{let n=await t.createOffer(this.connection.options.constraints);eG.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await t.setLocalDescription(n),eG.log("Set localDescription:",n,`for:${this.connection.peer}`);let o={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===U.Data){let t=this.connection;o={...o,label:t.label,reliable:t.reliable,serialization:t.serialization}}r.socket.send({type:W.Offer,payload:o,dst:this.connection.peer})}catch(t){"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=t&&(r.emitError(N.WebRTC,t),eG.log("Failed to setLocalDescription, ",t))}}catch(t){r.emitError(N.WebRTC,t),eG.log("Failed to createOffer, ",t)}}async _makeAnswer(){let t=this.connection.peerConnection,r=this.connection.provider;try{let n=await t.createAnswer();eG.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await t.setLocalDescription(n),eG.log("Set localDescription:",n,`for:${this.connection.peer}`),r.socket.send({type:W.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(t){r.emitError(N.WebRTC,t),eG.log("Failed to setLocalDescription, ",t)}}catch(t){r.emitError(N.WebRTC,t),eG.log("Failed to create answer, ",t)}}async handleSDP(t,r){r=new RTCSessionDescription(r);let n=this.connection.peerConnection,o=this.connection.provider;eG.log("Setting remote description",r);try{await n.setRemoteDescription(r),eG.log(`Set remoteDescription:${t} for:${this.connection.peer}`),"OFFER"===t&&await this._makeAnswer()}catch(t){o.emitError(N.WebRTC,t),eG.log("Failed to setRemoteDescription, ",t)}}async handleCandidate(t){eG.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),eG.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError(N.WebRTC,t),eG.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(t,r){if(eG.log(`add tracks from stream ${t.id} to peer connection`),!r.addTrack)return eG.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(n=>{r.addTrack(n,t)})}_addStreamToMediaConnection(t,r){eG.log(`add stream ${t.id} to media connection ${r.connectionId}`),r.addStream(t)}};let $23779d1881157a18$export$6a678e589c8a4542=class $23779d1881157a18$export$6a678e589c8a4542 extends eY.EventEmitter{emitError(t,r){eG.error("Error:",r),this.emit("error",new $23779d1881157a18$export$98871882f492de82(`${t}`,r))}};let $23779d1881157a18$export$98871882f492de82=class $23779d1881157a18$export$98871882f492de82 extends Error{constructor(t,r){"string"==typeof r?super(r):(super(),Object.assign(this,r)),this.type=t}};let $5045192fc6d387ba$export$23a2a68283c24d80=class $5045192fc6d387ba$export$23a2a68283c24d80 extends $23779d1881157a18$export$6a678e589c8a4542{get open(){return this._open}constructor(t,r,n){super(),this.peer=t,this.provider=r,this.options=n,this._open=!1,this.metadata=n.metadata}};let $5c1d08c7c57da9a3$export$4a84e95a2324ac29=class $5c1d08c7c57da9a3$export$4a84e95a2324ac29 extends $5045192fc6d387ba$export$23a2a68283c24d80{static #e=(()=>{this.ID_PREFIX="mc_"})();get type(){return U.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,r,n){super(t,r,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||$5c1d08c7c57da9a3$export$4a84e95a2324ac29.ID_PREFIX+eK.randomToken(),this._negotiator=new $b82fb8fc0514bfc1$export$89e6bb5ad64bf4a(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{eG.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{eG.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){eG.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){let r=t.type,n=t.payload;switch(t.type){case W.Answer:this._negotiator.handleSDP(r,n.sdp),this._open=!0;break;case W.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:eG.warn(`Unrecognized message type:${r} from peer:${this.peer}`)}}answer(t,r={}){if(this._localStream){eG.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});let n=this.provider._getMessages(this.connectionId);for(let t of n)this.handleMessage(t);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};let $abf266641927cd89$export$2c4e825dc9120f87=class $abf266641927cd89$export$2c4e825dc9120f87{constructor(t){this._options=t}_buildRequest(t){let r=this._options.secure?"https":"http",{host:n,port:o,path:a,key:c}=this._options,l=new URL(`${r}://${n}:${o}${a}${c}/${t}`);return l.searchParams.set("ts",`${Date.now()}${Math.random()}`),l.searchParams.set("version",e0.version),fetch(l.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{let t=await this._buildRequest("id");if(200!==t.status)throw Error(`Error. Status:${t.status}`);return t.text()}catch(r){eG.error("Error retrieving ID",r);let t="";throw"/"===this._options.path&&this._options.host!==eK.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{let t=await this._buildRequest("peers");if(200!==t.status){if(401===t.status){let t="";throw t=this._options.host===eK.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",Error("It doesn't look like you have permission to list peers IDs. "+t)}throw Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw eG.error("Error retrieving list peers",t),Error("Could not get list peers from the server."+t)}}};let $6366c4ca161bc297$export$d365f7ad9d7df9c9=class $6366c4ca161bc297$export$d365f7ad9d7df9c9 extends $5045192fc6d387ba$export$23a2a68283c24d80{static #e=(()=>{this.ID_PREFIX="dc_"})();static #t=(()=>{this.MAX_BUFFERED_AMOUNT=8388608})();get type(){return U.Data}constructor(t,r,n){super(t,r,n),this.connectionId=this.options.connectionId||$6366c4ca161bc297$export$d365f7ad9d7df9c9.ID_PREFIX+$0e5fd1585784c252$export$4e61f672936bec77(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new $b82fb8fc0514bfc1$export$89e6bb5ad64bf4a(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{eG.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=t=>{eG.log(`DC#${this.connectionId} dc onmessage:`,t.data)},this.dataChannel.onclose=()=>{eG.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,r=!1){if(!this.open){this.emitError(z.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,r)}async handleMessage(t){let r=t.payload;switch(t.type){case W.Answer:await this._negotiator.handleSDP(t.type,r.sdp);break;case W.Candidate:await this._negotiator.handleCandidate(r.candidate);break;default:eG.warn("Unrecognized message type:",t.type,"from peer:",this.peer)}}};let $a229bedbcaa6ca23$export$ff7c9d4c11d94e8b=class $a229bedbcaa6ca23$export$ff7c9d4c11d94e8b extends $6366c4ca161bc297$export$d365f7ad9d7df9c9{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",t=>this._handleDataMessage(t))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>$6366c4ca161bc297$export$d365f7ad9d7df9c9.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(t){return eG.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||0===this._buffer.length)return;let t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}};let $9fcfddb3ae148f88$export$f0a5a64d5bb37108=class $9fcfddb3ae148f88$export$f0a5a64d5bb37108 extends $a229bedbcaa6ca23$export$ff7c9d4c11d94e8b{close(t){super.close(t),this._chunkedData={}}constructor(t,r,n){super(t,r,n),this.chunker=new $fcbcc7538a6776d5$export$f1c5f4c9cb95390b,this.serialization=V.Binary,this._chunkedData={}}_handleDataMessage({data:t}){let r=$0cfd7828ad59115f$export$417857010dc9287f(t),n=r.__peerData;if(n){if("close"===n.type){this.close();return}this._handleChunk(r);return}this.emit("data",r)}_handleChunk(t){let r=t.__peerData,n=this._chunkedData[r]||{data:[],count:0,total:t.total};if(n.data[t.n]=new Uint8Array(t.data),n.count++,this._chunkedData[r]=n,n.total===n.count){delete this._chunkedData[r];let t=function(t){let r=0;for(let n of t)r+=n.byteLength;let n=new Uint8Array(r),o=0;for(let r of t)n.set(r,o),o+=r.byteLength;return n}(n.data);this._handleDataMessage({data:t})}}_send(t,r){if(t instanceof Blob)return t.arrayBuffer().then(t=>{this._send(t,r)});let n=$0cfd7828ad59115f$export$2a703dbb0cb35339(t);if(!r&&n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){let r=this.chunker.chunk(t);for(let t of(eG.log(`DC#${this.connectionId} Try to send ${r.length} chunks...`),r))this.send(t,!0)}};let $bbaee3f15f714663$export$6f88fe47d32c9c94=class $bbaee3f15f714663$export$6f88fe47d32c9c94 extends $a229bedbcaa6ca23$export$ff7c9d4c11d94e8b{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,r){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=V.None}};let $817f931e3f9096cf$export$48880ac635f47186=class $817f931e3f9096cf$export$48880ac635f47186 extends $a229bedbcaa6ca23$export$ff7c9d4c11d94e8b{_handleDataMessage({data:t}){let r=this.parse(this.decoder.decode(t)),n=r.__peerData;if(n&&"close"===n.type){this.close();return}this.emit("data",r)}_send(t,r){let n=this.encoder.encode(this.stringify(t));if(n.byteLength>=eK.chunkedMTU){this.emitError(z.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(n)}constructor(...t){super(...t),this.serialization=V.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}};let $416260bce337df90$export$ecd1fc136c422448=class $416260bce337df90$export$ecd1fc136c422448 extends $23779d1881157a18$export$6a678e589c8a4542{static #e=(()=>{this.DEFAULT_KEY="peerjs"})();get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){let t=Object.create(null);for(let[r,n]of this._connections)t[r]=n;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,r){let n;if(super(),this._serializers={raw:$bbaee3f15f714663$export$6f88fe47d32c9c94,json:$817f931e3f9096cf$export$48880ac635f47186,binary:$9fcfddb3ae148f88$export$f0a5a64d5bb37108,"binary-utf8":$9fcfddb3ae148f88$export$f0a5a64d5bb37108,default:$9fcfddb3ae148f88$export$f0a5a64d5bb37108},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map,t&&t.constructor==Object?r=t:t&&(n=t.toString()),r={debug:0,host:eK.CLOUD_HOST,port:eK.CLOUD_PORT,path:"/",key:$416260bce337df90$export$ecd1fc136c422448.DEFAULT_KEY,token:eK.randomToken(),config:eK.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...r},this._options=r,this._serializers={...this._serializers,...this.options.serializers},"/"===this._options.host&&(this._options.host=window.location.hostname),this._options.path&&("/"!==this._options.path[0]&&(this._options.path="/"+this._options.path),"/"!==this._options.path[this._options.path.length-1]&&(this._options.path+="/")),void 0===this._options.secure&&this._options.host!==eK.CLOUD_HOST?this._options.secure=eK.isSecure():this._options.host==eK.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&eG.setLogFunction(this._options.logFunction),eG.logLevel=this._options.debug||0,this._api=new $abf266641927cd89$export$2c4e825dc9120f87(r),this._socket=this._createServerConnection(),!eK.supports.audioVideo&&!eK.supports.data){this._delayedAbort(N.BrowserIncompatible,"The current browser does not support WebRTC");return}if(n&&!eK.validateId(n)){this._delayedAbort(N.InvalidID,`ID "${n}" is invalid`);return}n?this._initialize(n):this._api.retrieveId().then(t=>this._initialize(t)).catch(t=>this._abort(N.ServerError,t))}_createServerConnection(){let t=new $8f5bfa60836d261d$export$4798917dbf149b79(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(q.Message,t=>{this._handleMessage(t)}),t.on(q.Error,t=>{this._abort(N.SocketError,t)}),t.on(q.Disconnected,()=>{this.disconnected||(this.emitError(N.Network,"Lost connection to server."),this.disconnect())}),t.on(q.Close,()=>{this.disconnected||this._abort(N.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){let r=t.type,n=t.payload,o=t.src;switch(r){case W.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case W.Error:this._abort(N.ServerError,n.msg);break;case W.IdTaken:this._abort(N.UnavailableID,`ID "${this.id}" is taken`);break;case W.InvalidKey:this._abort(N.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case W.Leave:eG.log(`Received leave message from ${o}`),this._cleanupPeer(o),this._connections.delete(o);break;case W.Expire:this.emitError(N.PeerUnavailable,`Could not connect to peer ${o}`);break;case W.Offer:{let t=n.connectionId,r=this.getConnection(o,t);if(r&&(r.close(),eG.warn(`Offer received for existing Connection ID:${t}`)),n.type===U.Media){let a=new $5c1d08c7c57da9a3$export$4a84e95a2324ac29(o,this,{connectionId:t,_payload:n,metadata:n.metadata});r=a,this._addConnection(o,r),this.emit("call",a)}else if(n.type===U.Data){let a=new this._serializers[n.serialization](o,this,{connectionId:t,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable});r=a,this._addConnection(o,r),this.emit("connection",a)}else{eG.warn(`Received malformed connection type:${n.type}`);return}let a=this._getMessages(t);for(let t of a)r.handleMessage(t);break}default:{if(!n){eG.warn(`You received a malformed message from ${o} of type ${r}`);return}let a=n.connectionId,c=this.getConnection(o,a);c&&c.peerConnection?c.handleMessage(t):a?this._storeMessage(a,t):eG.warn("You received an unrecognized message:",t)}}}_storeMessage(t,r){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(r)}_getMessages(t){let r=this._lostMessages.get(t);return r?(this._lostMessages.delete(t),r):[]}connect(t,r={}){if(r={serialization:"default",...r},this.disconnected){eG.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(N.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}let n=new this._serializers[r.serialization](t,this,r);return this._addConnection(t,n),n}call(t,r,n={}){if(this.disconnected){eG.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(N.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!r){eG.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}let o=new $5c1d08c7c57da9a3$export$4a84e95a2324ac29(t,this,{...n,_stream:r});return this._addConnection(t,o),o}_addConnection(t,r){eG.log(`add connection ${r.type}:${r.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(r)}_removeConnection(t){let r=this._connections.get(t.peer);if(r){let n=r.indexOf(t);-1!==n&&r.splice(n,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,r){let n=this._connections.get(t);if(!n)return null;for(let t of n)if(t.connectionId===r)return t;return null}_delayedAbort(t,r){setTimeout(()=>{this._abort(t,r)},0)}_abort(t,r){eG.error("Aborting!"),this.emitError(t,r),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(eG.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){let r=this._connections.get(t);if(r)for(let t of r)t.close()}disconnect(){if(this.disconnected)return;let t=this.id;eG.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)eG.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else if(this.destroyed)throw Error("This peer cannot reconnect to the server. It has already been destroyed.");else if(this.disconnected||this.open)throw Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`);else eG.error("In a hurry? We're still trying to make the initial connection!")}listAllPeers(t=t=>{}){this._api.listAllPeers().then(r=>t(r)).catch(t=>this._abort(N.ServerError,t))}};Symbol.for(null)},63388:function(t,r,n){"use strict";let o,a;n.d(r,{ZP:function(){return esm_lookup}});var c,l,d={};n.r(d),n.d(d,{Decoder:function(){return Decoder},Encoder:function(){return Encoder},PacketType:function(){return l},protocol:function(){return K}});let f=Object.create(null);f.open="0",f.close="1",f.ping="2",f.pong="3",f.message="4",f.upgrade="5",f.noop="6";let m=Object.create(null);Object.keys(f).forEach(t=>{m[f[t]]=t});let y={type:"error",data:"parser error"},g="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),b="function"==typeof ArrayBuffer,isView=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,encodePacket=({type:t,data:r},n,o)=>g&&r instanceof Blob?n?o(r):encodeBlobAsBase64(r,o):b&&(r instanceof ArrayBuffer||isView(r))?n?o(r):encodeBlobAsBase64(new Blob([r]),o):o(f[t]+(r||"")),encodeBlobAsBase64=(t,r)=>{let n=new FileReader;return n.onload=function(){let t=n.result.split(",")[1];r("b"+(t||""))},n.readAsDataURL(t)};function toArray(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<_.length;t++)w[_.charCodeAt(t)]=t;let decode=t=>{let r=.75*t.length,n=t.length,o,a=0,c,l,d,f;"="===t[t.length-1]&&(r--,"="===t[t.length-2]&&r--);let m=new ArrayBuffer(r),y=new Uint8Array(m);for(o=0;o<n;o+=4)c=w[t.charCodeAt(o)],l=w[t.charCodeAt(o+1)],d=w[t.charCodeAt(o+2)],f=w[t.charCodeAt(o+3)],y[a++]=c<<2|l>>4,y[a++]=(15&l)<<4|d>>2,y[a++]=(3&d)<<6|63&f;return m},S="function"==typeof ArrayBuffer,decodePacket=(t,r)=>{if("string"!=typeof t)return{type:"message",data:mapBinary(t,r)};let n=t.charAt(0);if("b"===n)return{type:"message",data:decodeBase64Packet(t.substring(1),r)};let o=m[n];return o?t.length>1?{type:m[n],data:t.substring(1)}:{type:m[n]}:y},decodeBase64Packet=(t,r)=>{if(!S)return{base64:!0,data:t};{let n=decode(t);return mapBinary(n,r)}},mapBinary=(t,r)=>"blob"===r?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,encodePayload=(t,r)=>{let n=t.length,o=Array(n),a=0;t.forEach((t,c)=>{encodePacket(t,!1,t=>{o[c]=t,++a===n&&r(o.join("\x1e"))})})},decodePayload=(t,r)=>{let n=t.split("\x1e"),o=[];for(let t=0;t<n.length;t++){let a=decodePacket(n[t],r);if(o.push(a),"error"===a.type)break}return o};function totalLength(t){return t.reduce((t,r)=>t+r.length,0)}function concatChunks(t,r){if(t[0].length===r)return t.shift();let n=new Uint8Array(r),o=0;for(let a=0;a<r;a++)n[a]=t[0][o++],o===t[0].length&&(t.shift(),o=0);return t.length&&o<t[0].length&&(t[0]=t[0].slice(o)),n}function Emitter(t){if(t)return function(t){for(var r in Emitter.prototype)t[r]=Emitter.prototype[r];return t}(t)}Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this},Emitter.prototype.once=function(t,r){function on(){this.off(t,on),r.apply(this,arguments)}return on.fn=r,this.on(t,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var a=0;a<o.length;a++)if((n=o[a])===r||n.fn===r){o.splice(a,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=Array(arguments.length-1),n=this._callbacks["$"+t],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(n){n=n.slice(0);for(var o=0,a=n.length;o<a;++o)n[o].apply(this,r)}return this},Emitter.prototype.emitReserved=Emitter.prototype.emit,Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length};let T="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function pick(t,...r){return r.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}let E=T.setTimeout,P=T.clearTimeout;function installTimerFunctions(t,r){r.useNativeTimers?(t.setTimeoutFn=E.bind(T),t.clearTimeoutFn=P.bind(T)):(t.setTimeoutFn=T.setTimeout.bind(T),t.clearTimeoutFn=T.clearTimeout.bind(T))}let TransportError=class TransportError extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}};let Transport=class Transport extends Emitter{constructor(t){super(),this.writable=!1,installTimerFunctions(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,r,n){return super.emitReserved("error",new TransportError(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let r=decodePacket(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){let t=this.opts.hostname;return -1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){let r=function(t){let r="";for(let n in t)t.hasOwnProperty(n)&&(r.length&&(r+="&"),r+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return r}(t);return r.length?"?"+r:""}};let O="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),R={},x=0,B=0,A;function yeast_encode(t){let r="";do r=O[t%64]+r,t=Math.floor(t/64);while(t>0);return r}function yeast(){let t=yeast_encode(+new Date);return t!==A?(x=0,A=t):t+"."+yeast_encode(x++)}for(;B<64;B++)R[O[B]]=B;let j=!1;try{j="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}let I=j;function XHR(t){let r=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!r||I))return new XMLHttpRequest}catch(t){}if(!r)try{return new T[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(t){}}function empty(){}let M=function(){let t=new XHR({xdomain:!1});return null!=t.responseType}();let Request=class Request extends Emitter{constructor(t,r){super(),installTimerFunctions(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.data=void 0!==r.data?r.data:null,this.create()}create(){var t;let r=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;let n=this.xhr=new XHR(r);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(let t in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this.opts.extraHeaders[t])}catch(t){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof n.status?n.status:0)},0))},n.send(this.data)}catch(t){this.setTimeoutFn(()=>{this.onError(t)},0);return}"undefined"!=typeof document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=empty,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete Request.requests[this.index],this.xhr=null}}onLoad(){let t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(Request.requestsCount=0,Request.requests={},"undefined"!=typeof document){if("function"==typeof attachEvent)attachEvent("onunload",unloadHandler);else if("function"==typeof addEventListener){let t="onpagehide"in T?"pagehide":"unload";addEventListener(t,unloadHandler,!1)}}function unloadHandler(){for(let t in Request.requests)Request.requests.hasOwnProperty(t)&&Request.requests[t].abort()}let $=(()=>{let t="function"==typeof Promise&&"function"==typeof Promise.resolve;return t?t=>Promise.resolve().then(t):(t,r)=>r(t,0)})(),D=T.WebSocket||T.MozWebSocket;n(67133).lW;let U="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),N={websocket:class extends Transport{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let t=this.uri(),r=this.opts.protocols,n=U?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=U?new D(t,r,n):r?new D(t,r):new D(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){let n=t[r],o=r===t.length-1;encodePacket(n,this.supportsBinary,t=>{try{this.ws.send(t)}catch(t){}o&&$(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=yeast()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}check(){return!!D}},webtransport:class extends Transport{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{let r=function(t,r){a||(a=new TextDecoder);let n=[],o=0,c=-1,l=!1;return new TransformStream({transform(d,f){for(n.push(d);;){if(0===o){if(1>totalLength(n))break;let t=concatChunks(n,1);l=(128&t[0])==128,o=(c=127&t[0])<126?3:126===c?1:2}else if(1===o){if(2>totalLength(n))break;let t=concatChunks(n,2);c=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),o=3}else if(2===o){if(8>totalLength(n))break;let t=concatChunks(n,8),r=new DataView(t.buffer,t.byteOffset,t.length),a=r.getUint32(0);if(a>2097151){f.enqueue(y);break}c=4294967296*a+r.getUint32(4),o=3}else{if(totalLength(n)<c)break;let t=concatChunks(n,c);f.enqueue(decodePacket(l?t:a.decode(t),r)),o=0}if(0===c||c>t){f.enqueue(y);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),c=new TransformStream({transform(t,r){var n;n=n=>{let o;let a=n.length;if(a<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,a);else if(a<65536){o=new Uint8Array(3);let t=new DataView(o.buffer);t.setUint8(0,126),t.setUint16(1,a)}else{o=new Uint8Array(9);let t=new DataView(o.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(a))}t.data&&"string"!=typeof t.data&&(o[0]|=128),r.enqueue(o),r.enqueue(n)},g&&t.data instanceof Blob?t.data.arrayBuffer().then(toArray).then(n):b&&(t.data instanceof ArrayBuffer||isView(t.data))?n(toArray(t.data)):encodePacket(t,!1,t=>{o||(o=new TextEncoder),n(o.encode(t))})}});c.readable.pipeTo(t.writable),this.writer=c.writable.getWriter();let read=()=>{n.read().then(({done:t,value:r})=>{t||(this.onPacket(r),read())}).catch(t=>{})};read();let l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let r=0;r<t.length;r++){let n=t[r],o=r===t.length-1;this.writer.write(n).then(()=>{o&&$(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}},polling:class extends Transport{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){let r="https:"===location.protocol,n=location.port;n||(n=r?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port}let r=t&&t.forceBase64;this.supportsBinary=M&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";let pause=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",function(){--t||pause()})),this.writable||(t++,this.once("drain",function(){--t||pause()}))}else pause()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){decodePayload(t,this.socket.binaryType).forEach(t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){let close=()=>{this.write([{type:"close"}])};"open"===this.readyState?close():this.once("open",close)}write(t){this.writable=!1,encodePayload(t,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",r=this.query||{};return!1!==this.opts.timestampRequests&&(r[this.opts.timestampParam]=yeast()),this.supportsBinary||r.sid||(r.b64=1),this.createUri(t,r)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request(this.uri(),t)}doWrite(t,r){let n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(t,r)=>{this.onError("xhr post error",t,r)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=t}}},F=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,z=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(t){let r=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));let a=F.exec(t||""),c={},l=14;for(;l--;)c[z[l]]=a[l]||"";return -1!=n&&-1!=o&&(c.source=r,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function(t,r){let n=r.replace(/\/{2,9}/g,"/").split("/");return("/"==r.slice(0,1)||0===r.length)&&n.splice(0,1),"/"==r.slice(-1)&&n.splice(n.length-1,1),n}(0,c.path),c.queryKey=function(t,r){let n={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,r,o){r&&(n[r]=o)}),n}(0,c.query),c}let Socket=class Socket extends Emitter{constructor(t,r={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],t&&"object"==typeof t&&(r=t,t=null),t?(t=parse(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=parse(r.host).host),installTimerFunctions(this,r),this.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=r.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let r={},n=t.split("&");for(let t=0,o=n.length;t<o;t++){let o=n[t].split("=");r[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return r}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new N[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Socket.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else if(0===this.transports.length){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(t){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(t){let r=this.createTransport(t),n=!1;Socket.priorWebsocketSuccess=!1;let onTransportOpen=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",t=>{if(!n){if("pong"===t.type&&"probe"===t.data)this.upgrading=!0,this.emitReserved("upgrading",r),r&&(Socket.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{n||"closed"===this.readyState||(cleanup(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())}));else{let t=Error("probe error");t.transport=r.name,this.emitReserved("upgradeError",t)}}}))};function freezeTransport(){n||(n=!0,cleanup(),r.close(),r=null)}let onerror=t=>{let n=Error("probe error: "+t);n.transport=r.name,freezeTransport(),this.emitReserved("upgradeError",n)};function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(t){r&&t.name!==r.name&&freezeTransport()}let cleanup=()=>{r.removeListener("open",onTransportOpen),r.removeListener("error",onerror),r.removeListener("close",onTransportClose),this.off("close",onclose),this.off("upgrading",onupgrade)};r.once("open",onTransportOpen),r.once("error",onerror),r.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0,r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let r=Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){let t=this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1;if(!t)return this.writeBuffer;let r=1;for(let t=0;t<this.writeBuffer.length;t++){let n=this.writeBuffer[t].data;if(n&&(r+="string"==typeof n?function(t){let r=0,n=0;for(let o=0,a=t.length;o<a;o++)(r=t.charCodeAt(o))<128?n+=1:r<2048?n+=2:r<55296||r>=57344?n+=3:(o++,n+=4);return n}(n):Math.ceil(1.33*(n.byteLength||n.size))),t>0&&r>this.maxPayload)return this.writeBuffer.slice(0,t);r+=2}return this.writeBuffer}write(t,r,n){return this.sendPacket("message",t,r,n),this}send(t,r,n){return this.sendPacket("message",t,r,n),this}sendPacket(t,r,n,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof n&&(o=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;let a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),o&&this.once("flush",o),this.flush()}close(){let close=()=>{this.onClose("forced close"),this.transport.close()},cleanupAndClose=()=>{this.off("upgrade",cleanupAndClose),this.off("upgradeError",cleanupAndClose),close()},waitForUpgrade=()=>{this.once("upgrade",cleanupAndClose),this.once("upgradeError",cleanupAndClose)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()),this}onError(t){Socket.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){let r=[],n=0,o=t.length;for(;n<o;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}};Socket.protocol=4,Socket.protocol;let V="function"==typeof ArrayBuffer,is_binary_isView=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,q=Object.prototype.toString,W="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===q.call(Blob),H="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===q.call(File);function isBinary(t){return V&&(t instanceof ArrayBuffer||is_binary_isView(t))||W&&t instanceof Blob||H&&t instanceof File}let J=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],K=5;(c=l||(l={}))[c.CONNECT=0]="CONNECT",c[c.DISCONNECT=1]="DISCONNECT",c[c.EVENT=2]="EVENT",c[c.ACK=3]="ACK",c[c.CONNECT_ERROR=4]="CONNECT_ERROR",c[c.BINARY_EVENT=5]="BINARY_EVENT",c[c.BINARY_ACK=6]="BINARY_ACK";let Encoder=class Encoder{constructor(t){this.replacer=t}encode(t){return(t.type===l.EVENT||t.type===l.ACK)&&function hasBinary(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(hasBinary(t[r]))return!0;return!1}if(isBinary(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1==arguments.length)return hasBinary(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&hasBinary(t[r]))return!0;return!1}(t)?this.encodeAsBinary({type:t.type===l.EVENT?l.BINARY_EVENT:l.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===l.BINARY_EVENT||t.type===l.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(r+=t.nsp+","),null!=t.id&&(r+=t.id),null!=t.data&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){let r=function(t){let r=[],n=t.data;return t.data=function _deconstructPacket(t,r){if(!t)return t;if(isBinary(t)){let n={_placeholder:!0,num:r.length};return r.push(t),n}if(Array.isArray(t)){let n=Array(t.length);for(let o=0;o<t.length;o++)n[o]=_deconstructPacket(t[o],r);return n}if("object"==typeof t&&!(t instanceof Date)){let n={};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=_deconstructPacket(t[o],r));return n}return t}(n,r),t.attachments=r.length,{packet:t,buffers:r}}(t),n=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(n),o}};function isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}let Decoder=class Decoder extends Emitter{constructor(t){super(),this.reviver=t}add(t){let r;if("string"==typeof t){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);let n=r.type===l.BINARY_EVENT;n||r.type===l.BINARY_ACK?(r.type=n?l.EVENT:l.ACK,this.reconstructor=new BinaryReconstructor(r),0===r.attachments&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(isBinary(t)||t.base64){if(this.reconstructor)(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw Error("got binary data when not reconstructing a packet")}else throw Error("Unknown type: "+t)}decodeString(t){let r=0,n={type:Number(t.charAt(0))};if(void 0===l[n.type])throw Error("unknown packet type "+n.type);if(n.type===l.BINARY_EVENT||n.type===l.BINARY_ACK){let o=r+1;for(;"-"!==t.charAt(++r)&&r!=t.length;);let a=t.substring(o,r);if(a!=Number(a)||"-"!==t.charAt(r))throw Error("Illegal attachments");n.attachments=Number(a)}if("/"===t.charAt(r+1)){let o=r+1;for(;++r;){let n=t.charAt(r);if(","===n||r===t.length)break}n.nsp=t.substring(o,r)}else n.nsp="/";let o=t.charAt(r+1);if(""!==o&&Number(o)==o){let o=r+1;for(;++r;){let n=t.charAt(r);if(null==n||Number(n)!=n){--r;break}if(r===t.length)break}n.id=Number(t.substring(o,r+1))}if(t.charAt(++r)){let o=this.tryParse(t.substr(r));if(Decoder.isPayloadValid(n.type,o))n.data=o;else throw Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,r){switch(t){case l.CONNECT:return isObject(r);case l.DISCONNECT:return void 0===r;case l.CONNECT_ERROR:return"string"==typeof r||isObject(r);case l.EVENT:case l.BINARY_EVENT:return Array.isArray(r)&&("number"==typeof r[0]||"string"==typeof r[0]&&-1===J.indexOf(r[0]));case l.ACK:case l.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};let BinaryReconstructor=class BinaryReconstructor{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var r,n;let t=(r=this.reconPack,n=this.buffers,r.data=function _reconstructPacket(t,r){if(!t)return t;if(t&&!0===t._placeholder){let n="number"==typeof t.num&&t.num>=0&&t.num<r.length;if(n)return r[t.num];throw Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=_reconstructPacket(t[n],r);else if("object"==typeof t)for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=_reconstructPacket(t[n],r));return t}(r.data,n),delete r.attachments,r);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function on(t,r,n){return t.on(r,n),function(){t.off(r,n)}}let G=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let socket_Socket=class socket_Socket extends Emitter{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[on(t,"open",this.onopen.bind(this)),on(t,"packet",this.onpacket.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){if(G.hasOwnProperty(t))throw Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;let n={type:l.EVENT,data:r};if(n.options={},n.options.compress=!1!==this.flags.compress,"function"==typeof r[r.length-1]){let t=this.ids++,o=r.pop();this._registerAckCallback(t,o),n.id=t}let o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,a=this.flags.volatile&&(!o||!this.connected);return a||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,r){var n;let o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===o){this.acks[t]=r;return}let a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let r=0;r<this.sendBuffer.length;r++)this.sendBuffer[r].id===t&&this.sendBuffer.splice(r,1);r.call(this,Error("operation has timed out"))},o);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(a),r.apply(this,[null,...t])}}emitWithAck(t,...r){let n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((o,a)=>{r.push((t,r)=>n?t?a(t):o(r):o(t)),this.emit(t,...r)})}_addToQueue(t){let r;"function"==typeof t[t.length-1]&&(r=t.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((t,...o)=>{if(n!==this._queue[0])return;let a=null!==t;return a?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(t)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;let r=this._queue[0];(!r.pending||t)&&(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:l.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r)}onpacket(t){let r=t.nsp===this.nsp;if(r)switch(t.type){case l.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case l.EVENT:case l.BINARY_EVENT:this.onevent(t);break;case l.ACK:case l.BINARY_ACK:this.onack(t);break;case l.DISCONNECT:this.ondisconnect();break;case l.CONNECT_ERROR:this.destroy();let n=Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}onevent(t){let r=t.data||[];null!=t.id&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){let r=this,n=!1;return function(...o){n||(n=!0,r.packet({type:l.ACK,id:t,data:o}))}}onack(t){let r=this.acks[t.id];"function"==typeof r&&(r.apply(this,t.data),delete this.acks[t.id])}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:l.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n]){r.splice(n,1);break}}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n]){r.splice(n,1);break}}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let r=this._anyOutgoingListeners.slice();for(let n of r)n.apply(this,t.data)}}};function Backoff(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),n=Math.floor(r*this.jitter*t);t=(1&Math.floor(10*r))==0?t-n:t+n}return 0|Math.min(t,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(t){this.ms=t},Backoff.prototype.setMax=function(t){this.max=t},Backoff.prototype.setJitter=function(t){this.jitter=t};let Manager=class Manager extends Emitter{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(r=t,t=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,installTimerFunctions(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=r.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=t;let o=r.parser||d;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(r=this.backoff)||void 0===r||r.setMin(t),this)}randomizationFactor(t){var r;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(r=this.backoff)||void 0===r||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(r=this.backoff)||void 0===r||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket(this.uri,this.opts);let r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let o=on(r,"open",function(){n.onopen(),t&&t()}),onError=r=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",r),t?t(r):this.maybeReconnectOnOpen()},a=on(r,"error",onError);if(!1!==this._timeout){let t=this._timeout,n=this.setTimeoutFn(()=>{o(),onError(Error("timeout")),r.close()},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(o),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(on(t,"ping",this.onping.bind(this)),on(t,"data",this.ondata.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){$(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new socket_Socket(this,t,r),this.nsps[t]=n),n}_destroy(t){let r=Object.keys(this.nsps);for(let t of r){let r=this.nsps[t];if(r.active)return}this._close()}_packet(t){let r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let r=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{!t.skipReconnect&&(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};let Y={};function esm_lookup(t,r){let n;"object"==typeof t&&(r=t,t=void 0),r=r||{};let o=function(t,r="",n){let o=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),o=parse(t)),!o.port&&(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";let a=-1!==o.host.indexOf(":"),c=a?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+c+":"+o.port+r,o.href=o.protocol+"://"+c+(n&&n.port===o.port?"":":"+o.port),o}(t,r.path||"/socket.io"),a=o.source,c=o.id,l=o.path,d=Y[c]&&l in Y[c].nsps,f=r.forceNew||r["force new connection"]||!1===r.multiplex||d;return f?n=new Manager(a,r):(Y[c]||(Y[c]=new Manager(a,r)),n=Y[c]),o.query&&!r.query&&(r.query=o.queryKey),n.socket(o.path,r)}Object.assign(esm_lookup,{Manager:Manager,Socket:socket_Socket,io:esm_lookup,connect:esm_lookup})}}]);